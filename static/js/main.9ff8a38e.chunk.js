(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{120:function(e,t,n){e.exports={constructorWrapper:"draggable-ingredient_constructorWrapper__32JYu"}},121:function(e,t,n){e.exports={wrapper:"main-content-container_wrapper__24M6H"}},122:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__2GQrt"}},123:function(e,t,n){e.exports={wrapper:"order-details_wrapper__QVFA7"}},124:function(e,t,n){e.exports={main:"preloader_main__16Rzo"}},132:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(43),i=n.n(a),s=(n(132),"SET_INGREDIENTS_SUCCESS"),o="SET_INGREDIENTS_REQUEST",l="SET_INGREDIENTS_ERROR",d="SET_CURRENT_INGREDIENT",u="REMOVE_CURRENT_INGREDIENT",p="SHOW_INGREDIENTS_MODAL",j="HIDE_INGREDIENTS_MODAL",m="ADD_BUN",b="ADD_INGREDIENT",_="MOVE_INGREDIENT",O="REMOVE_ITEM",h="ADD_TO_INGREDIENTS_MAP",x="ADD_TO_BUN_MAP",f="POST_ORDER_SUCCESS",g="POST_ORDER_REQUEST",v="POST_ORDER_ERROR",y="CLEAR_CONSTRUCTOR",N="SHOW_MODAL",w="HIDE_MODAL",I="REQUEST",C="REQUEST_ERROR",E="REQUEST_SUCCESS",S="WS_CONNECTION_START",T="WS_CONNECTION_PROFILE_ORDERS_START",R="WS_USER_CONNECTION_SUCCESS",k="WS_CONNECTION_SUCCESS",D="WS_USER_CONNECTION_ERROR",W="WS_CONNECTION_ERROR",M="WS_USER_CONNECTION_CLOSED",P="WS_CONNECTION_CLOSED",z="WS_GET_ORDERS",A="WS_GET_USER_ORDERS",B=n(85),U=n.n(B),q=n(116),L=n(2),G="https://norma.nomoreparties.space/api",F="wss://norma.nomoreparties.space/orders",J="bun",H="sauce",Q="main",K=[{displayName:"\u0411\u0443\u043b\u043a\u0438",type:J},{displayName:"\u0421\u043e\u0443\u0441\u044b",type:H},{displayName:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",type:Q}],V={title:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",path:"/"},X={title:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",path:"/feed"},Y={title:"",path:"/feed/:id"},Z={title:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",path:"/profile"},$={title:"",path:"/profile/orders"},ee={title:"",path:"/profile/orders/:id"},te={title:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442",path:"/ingredients/:ingredientId"},ne={title:"\u0412\u0445\u043e\u0434",path:"/login"},re={title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",path:"/register"},ce={title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",path:"/forgot-password"},ae={title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",path:"/reset-password"},ie=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},se=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(n=Object(L.a)({path:"/"},n)).expires instanceof Date&&(n.expires=n.expires.toUTCString());var r=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var c in n){r+="; "+c;var a=n[c];!0!==a&&(r+="="+a)}document.cookie=r},oe=function(e){se(e,"",{"max-age":-1})},le=function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))},de=function(){return fetch("".concat(G,"/auth/token"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({token:ie("refreshToken")})}).then(le)},ue=function(){var e=Object(q.a)(U.a.mark((function e(t){var n,r,c,a,i,s=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},e.prev=1,e.next=4,fetch(t,n);case 4:return r=e.sent,e.next=7,le(r);case 7:return c=e.sent,e.abrupt("return",c);case 11:if(e.prev=11,e.t0=e.catch(1),"jwt expired"!==e.t0.message){e.next=28;break}return e.next=16,de();case 16:return a=e.sent,se("refreshToken",a.refreshToken),se("accessToken",a.accessToken),n.headers.authorization=a.accessToken,e.next=22,fetch(t,n);case 22:return i=e.sent,e.next=25,le(i);case 25:return e.abrupt("return",e.sent);case 28:throw e.t0;case 29:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This value was promised to be there";if(void 0===e||null===e)throw new TypeError(t);return e},je=function(e,t){return e.find((function(e){return e._id===t}))},me=function(){return function(e){e({type:o}),fetch("".concat(G,"/ingredients")).then(le).then((function(t){var n;t&&t.success&&e((n=t.data,{type:s,ingredients:n}))})).catch((function(t){e({type:l}),console.log(t)}))}},be=n(4),_e=n(11),Oe=n(6),he=n(52),xe=n.n(he),fe=n(64),ge=n.n(fe),ve=n(0),ye=function(e){var t=e.path,n=e.exact,r=e.children,c=e.text;return Object(ve.jsx)("div",{className:"pl-5",children:Object(ve.jsxs)(Oe.c,{to:t,activeClassName:ge.a.active,className:ge.a.inactive,exact:null!==n&&void 0!==n&&n,children:[r,Object(ve.jsx)("span",{className:"text text_type_main-default ".concat(ge.a.navTitle," pl-2 pr-5"),children:c})]})})},Ne=function(){var e=Object(_e.h)().pathname;return Object(ve.jsx)("header",{className:xe.a.header,children:Object(ve.jsxs)("div",{className:xe.a.wrapper,children:[Object(ve.jsxs)("nav",{className:xe.a.nav,children:[Object(ve.jsx)(ye,{text:V.title,path:V.path,exact:!0,children:Object(ve.jsx)(be.BurgerIcon,{type:e===V.path?"primary":"secondary"})}),Object(ve.jsx)(ye,{text:X.title,path:X.path,children:Object(ve.jsx)(be.ListIcon,{type:e===X.path?"primary":"secondary"})})]}),Object(ve.jsx)("div",{className:xe.a.logoWrapper,children:Object(ve.jsx)(Oe.c,{to:V.path,children:Object(ve.jsx)(be.Logo,{})})}),Object(ve.jsx)("menu",{children:Object(ve.jsx)(ye,{text:Z.title,path:Z.path,children:Object(ve.jsx)(be.ProfileIcon,{type:e===Z.path?"primary":"secondary"})})})]})})},we=n(28),Ie=n(7),Ce=n(87),Ee=n.n(Ce),Se=n(51),Te=Se.c,Re=function(){return Object(Se.b)()},ke=function(){return{type:I}},De=function(){return{type:C}},We=function(e,t){return{type:E,payload:{email:e,name:t,isAuth:!0}}},Me=function(e){return function(t){t({type:I,payload:{resetPassSuccess:!1}}),fetch("".concat(G,"/password-reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(le).then((function(e){e&&e.success&&t({type:E,payload:{resetPassSuccess:!0}})})).catch((function(e){t({type:C,payload:{resetPassSuccess:!1}}),console.log(e)}))}},Pe=function(e,t){return function(n){n(ke()),fetch("".concat(G,"/password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,token:t})}).then(le).then((function(e){e&&e.success&&n({type:E})})).catch((function(e){n(De()),console.log(e)}))}},ze=function(e,t,n){return function(r){r(ke()),fetch("".concat(G,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n})}).then(le).then((function(t){if(t&&t.success){se("refreshToken",t.refreshToken);var c=t.accessToken.split("Bearer ")[1];c&&se("accessToken",c),r(function(e,t){return{type:E,payload:{email:e,name:t,isAuth:!0}}}(e,n))}})).catch((function(e){r(De()),console.log(e)}))}},Ae=function(e,t){return function(n){n(ke()),fetch("".concat(G,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(le).then((function(e){if(e&&e.success){se("refreshToken",e.refreshToken);var t=e.accessToken.split("Bearer ")[1];t&&se("accessToken",t),n(function(e,t){return{type:E,payload:{email:e,name:t,isAuth:!0}}}(e.user.email,e.user.name))}})).catch((function(e){n(De()),console.log(e)}))}},Be=function(){return function(e){var t=ie("refreshToken");e(ke()),fetch("".concat(G,"/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})}).then(le).then((function(t){t&&t.success&&(e({type:E,payload:{email:"",password:"",isAuth:!1}}),oe("refreshToken"),oe("accessToken"))})).catch((function(t){e(De()),console.log(t)}))}},Ue=function(){return function(e){e(ke()),ue("".concat(G,"/auth/user"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(ie("accessToken"))}}).then((function(t){t&&t.success&&e(We(t.user.email,t.user.name))})).catch((function(t){e(De()),console.log(t)}))}},qe=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(Ie.a)(e,2),n=t[0],c=t[1],a=function(e){c(Object(L.a)(Object(L.a)({},n),{},Object(we.a)({},e.target.name,e.target.value)))},i=Object(r.useState)("HideIcon"),s=Object(Ie.a)(i,2),o=s[0],l=s[1],d=Re(),u=Object(r.useRef)(null),p="ShowIcon"===o?"text":"password",j=Object(r.useCallback)((function(e){e.preventDefault(),d(Ae(n.email,n.password))}),[n,d]);return Object(ve.jsxs)("div",{className:Ee.a.wrapper,children:[Object(ve.jsxs)("form",{className:Ee.a.form,onSubmit:j,children:[Object(ve.jsx)("div",{className:"text text_type_main-default mt-15",children:"\u0412\u0445\u043e\u0434"}),Object(ve.jsx)("div",{"data-cy":"login_emailInput",children:Object(ve.jsx)(be.Input,{type:"email",placeholder:"E-mail",name:"email",size:"default",onChange:a,value:n.email||""})}),Object(ve.jsx)(be.Input,{type:p,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",size:"default",icon:o,onChange:a,onIconClick:function(){setTimeout((function(){return u.current.focus()}),0),l("ShowIcon"===o?"HideIcon":"ShowIcon")},ref:u,value:n.password||""}),Object(ve.jsx)(be.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(ve.jsxs)("div",{className:"text text_type_main-default mt-15 text_color_inactive",children:["\u0412\u044b - \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",Object(ve.jsx)("span",{children:Object(ve.jsx)(Oe.b,{to:"/register",children:Object(ve.jsx)(be.Button,{type:"secondary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})})]}),Object(ve.jsxs)("div",{className:"text text_type_main-default mt-4 text_color_inactive",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(ve.jsx)("span",{children:Object(ve.jsx)(Oe.b,{to:"/forgot-password",children:Object(ve.jsx)(be.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})})})]})]})},Le=n(88),Ge=n.n(Le),Fe=function(){var e=Re(),t=Object(r.useState)({email:"",name:"",password:""}),n=Object(Ie.a)(t,2),a=n[0],i=n[1],s=function(e){i(Object(L.a)(Object(L.a)({},a),{},Object(we.a)({},e.target.name,e.target.value)))},o=c.a.useState("HideIcon"),l=Object(Ie.a)(o,2),d=l[0],u=l[1],p="ShowIcon"===d?"text":"password",j=c.a.useRef(null),m=Object(r.useCallback)((function(t){t.preventDefault(),e(ze(a.email,a.password,a.name))}),[a,e]);return Object(ve.jsxs)("div",{className:Ge.a.wrapper,children:[Object(ve.jsxs)("form",{className:Ge.a.form,onSubmit:m,children:[Object(ve.jsx)("div",{className:"text text_type_main-default mt-15",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(ve.jsx)(be.Input,{type:"text",placeholder:"\u0418\u043c\u044f",name:"name",size:"default",onChange:s,value:a.name||""}),Object(ve.jsx)(be.Input,{type:"email",placeholder:"E-mail",name:"email",size:"default",onChange:s,value:a.email||""}),Object(ve.jsx)(be.Input,{type:p,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",size:"default",icon:d,onChange:s,ref:j,onIconClick:function(){setTimeout((function(){return j.current.focus()}),0),u("ShowIcon"===d?"HideIcon":"ShowIcon")},value:a.password||""}),Object(ve.jsx)(be.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(ve.jsxs)("div",{className:"text text_type_main-default mt-15 text_color_inactive",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(ve.jsx)("span",{children:Object(ve.jsx)(Oe.b,{to:"/login",children:Object(ve.jsx)(be.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})},Je=n(89),He=n.n(Je),Qe=function(){var e=Object(_e.g)(),t=Re(),n=Object(_e.h)(),c=Object(r.useState)(""),a=Object(Ie.a)(c,2),i=a[0],s=a[1];Te((function(e){return e.user.resetPassSuccess}))&&(e.replace({pathname:"/reset-password"}),t({type:I,payload:{resetPassSuccess:!1}}));var o=Object(r.useCallback)((function(e){e.preventDefault(),t(Me(i))}),[i,t]);return Object(ve.jsxs)("div",{className:He.a.wrapper,children:[Object(ve.jsxs)("form",{className:He.a.form,onSubmit:o,children:[Object(ve.jsx)("div",{className:"text text_type_main-default mt-15",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(ve.jsx)(be.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",name:"email",size:"default",onChange:function(e){s(e.target.value)},value:i}),Object(ve.jsx)(Oe.b,{to:{pathname:"reset-password",state:{prevPath:n.pathname}},children:Object(ve.jsx)(be.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]}),Object(ve.jsxs)("div",{className:"text text_type_main-default mt-15 text_color_inactive",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(ve.jsx)("span",{children:Object(ve.jsx)(Oe.b,{to:"/login",children:Object(ve.jsx)(be.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})},Ke=n(90),Ve=n.n(Ke),Xe=function(){var e=Object(_e.g)(),t=Object(_e.h)();"/forgot-password"!==(t.state&&t.state.prevPath)&&e.goBack();var n=Re(),c=Object(r.useState)("HideIcon"),a=Object(Ie.a)(c,2),i=a[0],s=a[1],o="ShowIcon"===i?"text":"password",l=Object(r.useRef)(null),d=Object(r.useState)({password:"",code:""}),u=Object(Ie.a)(d,2),p=u[0],j=u[1],m=function(e){j(Object(L.a)(Object(L.a)({},p),{},Object(we.a)({},e.target.name,e.target.value)))},b=Object(r.useCallback)((function(e){e.preventDefault(),n(Pe(p.password,p.code))}),[n,p]);return Object(ve.jsxs)("div",{className:Ve.a.wrapper,children:[Object(ve.jsxs)("form",{className:Ve.a.form,onSubmit:b,children:[Object(ve.jsx)("div",{className:"text text_type_main-default mt-15",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(ve.jsx)(be.Input,{type:o,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",name:"password",size:"default",icon:i,ref:l,onIconClick:function(){setTimeout((function(){return l.current.focus()}),0),s("ShowIcon"===i?"HideIcon":"ShowIcon")},value:p.password||"",onChange:m}),Object(ve.jsx)(be.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",name:"name",size:"default",value:p.code||"",onChange:m}),Object(ve.jsx)(be.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(ve.jsxs)("div",{className:"text text_type_main-default mt-15 text_color_inactive",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",Object(ve.jsx)("span",{children:Object(ve.jsx)(Oe.b,{to:"/login",children:Object(ve.jsx)(be.Button,{type:"secondary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})},Ye=n(30),Ze=n.n(Ye),$e=function(){var e=Re(),t=Te((function(e){return e.user.request})),n=Te((function(e){return e.user.name})),c=Te((function(e){return e.user.email})),a=Te((function(e){return e.user.password})),i=Object(r.useState)({email:"".concat(c),name:"".concat(n),password:"".concat(a)}),s=Object(Ie.a)(i,2),o=s[0],l=s[1],d=function(e){l(Object(L.a)(Object(L.a)({},o),{},Object(we.a)({},e.target.name,e.target.value)))},u=Object(r.useState)(!1),p=Object(Ie.a)(u,2),j=p[0],m=p[1],b=function(){return m(!j)},_=function(){return m(!0)};Object(r.useEffect)((function(){e(Ue())}),[e]);var O=Object(r.useState)("/profile"),h=Object(Ie.a)(O,2),x=h[0],f=h[1],g="text text_type_main-medium text_color_inactive";return Object(ve.jsxs)("div",{className:"".concat(Ze.a.wrapper," mt-15"),children:[Object(ve.jsxs)("nav",{className:"".concat(Ze.a.nav," mr-30"),children:[Object(ve.jsxs)("div",{className:"".concat(Ze.a.list," mb-20"),children:[Object(ve.jsx)(Oe.c,{to:"/profile",className:"".concat(Ze.a.listItem," ").concat(g),activeClassName:"/profile"===x?"".concat(Ze.a.active):"",onClick:function(){return f("/profile")},children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(ve.jsx)(Oe.c,{to:"/profile/orders",className:"".concat(Ze.a.listItem," ").concat(g),activeClassName:"/profile/orders"===x?"".concat(Ze.a.active):"",onClick:function(){return f("/profile/orders")},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(ve.jsx)("div",{className:"".concat(Ze.a.listItem," ").concat(g),onClick:function(){e(Be())},children:"\u0412\u044b\u0445\u043e\u0434"})]}),Object(ve.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),t?Object(ve.jsx)("div",{children:"Loading..."}):Object(ve.jsxs)("form",{className:Ze.a.form,onSubmit:function(t){var n,r;t.preventDefault(),e((n=o.email,r=o.name,function(e){e(ke()),ue("".concat(G,"/auth/user"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(ie("accessToken"))},body:JSON.stringify({email:n,name:r})}).then((function(t){t&&t.success&&e(We(t.user.email,t.user.name))})).catch((function(t){e(De()),console.log(t)}))})),m(!1)},children:[Object(ve.jsx)(be.Input,{type:"text",placeholder:"\u0418\u043c\u044f",name:"name",size:"default",icon:"EditIcon",onIconClick:b,onFocus:_,onChange:d,value:o.name||""}),Object(ve.jsx)(be.Input,{type:"email",placeholder:"E-mail",name:"email",size:"default",icon:"EditIcon",onIconClick:b,onFocus:_,onChange:d,value:o.email||""}),Object(ve.jsx)(be.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",size:"default",icon:"EditIcon",onIconClick:b,onFocus:_,onChange:d,value:o.password||""}),j&&Object(ve.jsxs)("div",{children:[Object(ve.jsx)(be.Button,{type:"secondary",size:"medium",onClick:function(e){e.preventDefault(),l({email:"".concat(c),name:"".concat(n),password:"".concat(a)}),m(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(ve.jsx)(be.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})},et=n(91),tt=n.n(et),nt=function(){return Object(ve.jsxs)("div",{className:"".concat(tt.a.wrapper," text text_type_main-medium text_color_inactive"),children:[Object(ve.jsx)("span",{children:"(\u0ca0_\u0ca0) \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \xaf\\_(\u30c4)_/\xaf"}),Object(ve.jsx)(Oe.c,{to:"/",className:tt.a.inactive,children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})},rt=n(63),ct=["children"],at=function(e){var t=e.children,n=Object(rt.a)(e,ct),c=Te((function(e){return e.user.isAuth})),a=Object(r.useState)(!1),i=Object(Ie.a)(a,2),s=i[0],o=i[1],l=Object(_e.h)(),d=Re();return Object(r.useEffect)((function(){d(Ue()),o(!0)}),[d]),s?Object(ve.jsx)(_e.b,Object(L.a)(Object(L.a)({},n),{},{render:function(){return c?t:Object(ve.jsx)(_e.a,{to:{pathname:ne.path,state:{from:l}}})}})):null},it=function(){return{type:w}},st=function(e){return function(t){var n;"bun"===e.type?(t((n=e._id,{type:x,id:n})),t(function(e){return{type:m,item:e}}(e))):(t(function(e){return{type:h,id:e}}(e._id)),t(function(e){return{type:b,item:e}}(e)))}},ot=function(e){return function(t){t({type:g}),fetch("".concat(G,"/orders"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(ie("accessToken"))},body:JSON.stringify({ingredients:e})}).then(le).then((function(e){var n;e&&e.success&&(t((n=e.order.number,{type:f,number:n})),t({type:y}))})).catch((function(e){t({type:v}),console.log(e)}))}},lt=function(e){return e.ingredients},dt=function(e){return e.user},ut=function(e){return e.burgerConstructor},pt=n(34),jt=n.n(pt),mt=n(44),bt=n.n(mt),_t=n(223),Ot=function(e){var t=e.ingredient,n=Re(),r=Object(_e.h)(),c=t._id,a=Te((function(e){var t;return null===(t=e.burgerConstructor.bunMap)||void 0===t?void 0:t.get(c)})),i=Te((function(e){var t;return null===(t=e.burgerConstructor.ingredientsMap)||void 0===t?void 0:t.get(c)})),s="bun"===t.type?a:i,o=Object(_t.a)((function(){return{type:"ingredient",item:{ingredient:t},end:function(e,r){var c=r.getDropResult();if(e&&c){var a=Date.now()+Math.random();n(st(Object(L.a)(Object(L.a)({},t),{},{uniqueId:a})))}},collect:function(e){return{isDragging:e.isDragging()}}}})),l=Object(Ie.a)(o,2)[1];return Object(ve.jsx)(Oe.b,{to:{pathname:"/ingredients/".concat(c),state:{background:r}},className:bt.a.link,"data-cy":"ingredientContainer",children:Object(ve.jsxs)("div",{className:bt.a.wrapper,ref:l,children:[Object(ve.jsx)("div",{className:"mr-4 ml-4",children:Object(ve.jsxs)("div",{className:bt.a.counter,children:[Object(ve.jsx)("img",{src:t.image,alt:"\u0424\u043e\u0442\u043e \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),!!s&&Object(ve.jsx)(be.Counter,{count:"bun"===t.type?2:s,size:"default"})]})}),Object(ve.jsxs)("div",{className:"".concat(bt.a.price," text text_type_main-medium mt-1 mb-1"),children:[Object(ve.jsx)("span",{className:"mr-2",children:t.price}),Object(ve.jsx)(be.CurrencyIcon,{type:"primary"})]}),Object(ve.jsx)("div",{className:"".concat(bt.a.name," text text_type_main-default"),children:t.name})]})},c)},ht=function(e){var t=e.handleClick,n=e.buns,c=e.sauces,a=e.mains,i=Object(r.useState)(J),s=Object(Ie.a)(i,2),o=s[0],l=s[1],d=Object(r.useRef)(null),u=Object(r.useRef)(null),p=Object(r.useRef)(null),j=Object(r.useRef)(null),m=function(e){l(e),e===J?d.current.scrollIntoView({behavior:"smooth"}):e===Q?p.current.scrollIntoView({behavior:"smooth"}):u.current.scrollIntoView({behavior:"smooth"})};return Object(ve.jsxs)("article",{className:jt.a.wrapper,children:[Object(ve.jsx)("p",{className:"text text_type_main-large mt-10",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(ve.jsx)("div",{style:{display:"flex"},className:"mt-5",ref:j,children:K.map((function(e){return Object(ve.jsx)(be.Tab,{value:e.type,active:o===e.type,onClick:m,children:e.displayName},e.type)}))}),Object(ve.jsxs)("section",{className:"".concat(jt.a.scrollable," mt-10"),id:"scroll",onScroll:function(){var e=j.current.getBoundingClientRect().top,t=d.current.getBoundingClientRect().top,n=u.current.getBoundingClientRect().top,r=p.current.getBoundingClientRect().top,c=Math.abs(e-t),a=Math.abs(e-n),i=Math.abs(e-r),s=Math.min(c,a,i);l(s===c?J:s===a?H:Q)},children:[Object(ve.jsxs)("figure",{className:jt.a.figure,children:[Object(ve.jsx)("p",{className:"text text_type_main-medium",id:"bun",ref:d,children:"\u0411\u0443\u043b\u043a\u0438"}),n.map((function(e){return Object(ve.jsx)("div",{className:"".concat(jt.a.ingredientContainer," mt-6 ml-4 mb-10"),onClick:function(){t(e._id)},id:e._id,children:Object(ve.jsx)(Ot,{ingredient:e})},e._id)}))]}),Object(ve.jsxs)("figure",{className:jt.a.figure,children:[Object(ve.jsx)("p",{className:"text text_type_main-medium",id:"sauce",ref:u,children:"\u0421\u043e\u0443\u0441\u044b"}),c.map((function(e){return Object(ve.jsx)("div",{className:"".concat(jt.a.ingredientContainer," mt-6 ml-4 mb-10"),onClick:function(){t(e._id)},id:e._id,children:Object(ve.jsx)(Ot,{ingredient:e})},e._id)}))]}),Object(ve.jsxs)("figure",{className:jt.a.figure,children:[Object(ve.jsx)("p",{className:"text text_type_main-medium",id:"main",ref:p,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),a.map((function(e){return Object(ve.jsx)("div",{className:"".concat(jt.a.ingredientContainer," mt-6 ml-4 mb-10"),onClick:function(){t(e._id)},id:e._id,children:Object(ve.jsx)(Ot,{ingredient:e})},e._id)}))]})]})]})},xt=function(e){var t=e.handleClick,n=Te(lt).ingredients,c=Object(r.useMemo)((function(){return n.filter((function(e){return e.type===J}))}),[n]),a=Object(r.useMemo)((function(){return n.filter((function(e){return e.type===Q}))}),[n]),i=Object(r.useMemo)((function(){return n.filter((function(e){return e.type===H}))}),[n]);return Object(ve.jsx)(ht,{handleClick:t,sauces:i,buns:c,mains:a})},ft=n(14),gt=n(31),vt=n.n(gt),yt=n(224),Nt=n(120),wt=n.n(Nt),It=function(e){var t=e.name,n=e.price,c=e.image,a=e.uniqueId,i=Object(r.useRef)(null),s=Re(),o=Object(yt.a)({accept:"constructor",hover:function(e,t){var n;if(i.current){var r=e.uniqueId,c=a;if(r!==c){var o=null===(n=i.current)||void 0===n?void 0:n.getBoundingClientRect(),l=(o.bottom-o.top)/2,d=t.getClientOffset().y-o.top;r<c&&d<l||r>c&&d>l||(s(function(e,t){return{type:_,dragIndex:e,hoverIndex:t}}(r,c)),e.index=c)}}}}),l=Object(Ie.a)(o,2)[1],d=Object(_t.a)({type:"constructor",item:function(){return{uniqueId:a}},collect:function(e){return{isDragging:e.isDragging()}}}),u=Object(Ie.a)(d,2),p=u[0].isDragging;l((0,u[1])(i));var j=p?0:1;return Object(ve.jsxs)("div",{className:wt.a.constructorWrapper,ref:i,style:{opacity:j},children:[Object(ve.jsx)(be.DragIcon,{type:"primary"}),Object(ve.jsx)(be.ConstructorElement,{text:t,price:n,thumbnail:c,handleClose:function(){s({type:O,id:a})}})]},a)},Ct=function(e){var t=e.handleRequest,n=e.bun,r=e.ingredients,c=0!==n.price,a=!1===!Object.keys(r).length,i=Object(yt.a)((function(){return{accept:"ingredient"}})),s=Object(Ie.a)(i,2)[1],o=[n._id].concat(Object(ft.a)(r.map((function(e){return e._id}))));return Object(ve.jsxs)("article",{className:"".concat(vt.a.wrapper," mt-25"),ref:s,"data-cy":"dropTarget",children:[c||a?Object(ve.jsxs)("div",{className:vt.a.ingredientsWrapper,children:[c&&Object(ve.jsx)("div",{className:vt.a.bun,children:Object(ve.jsx)(be.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(n.name," (\u0432\u0435\u0440\u0445)"),price:n.price,thumbnail:n.image})}),Object(ve.jsx)("section",{className:"".concat(vt.a.scrollable),children:a?r.map((function(e){return Object(ve.jsx)(It,{uniqueId:e.uniqueId,name:e.name,price:e.price,image:e.image},e.uniqueId)})):Object(ve.jsx)("div",{className:"".concat(vt.a.addMain," text text_type_main-medium text_color_inactive"),children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u0430\u0447\u0438\u043d\u043a\u0443"})}),c&&Object(ve.jsx)("div",{className:vt.a.bun,children:Object(ve.jsx)(be.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(n.name," (\u043d\u0438\u0437)"),price:n.price,thumbnail:n.image})})]}):Object(ve.jsx)("div",{className:"".concat(vt.a.add," text text_type_main-medium text_color_inactive"),children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0431\u0443\u043b\u043a\u0443"}),c&&a&&Object(ve.jsxs)("footer",{className:"".concat(vt.a.footer," mt-10"),children:[Object(ve.jsxs)("span",{className:"".concat(vt.a.summary," mr-10 text text_type_main-large"),children:[r.reduce((function(e,t){return e+t.price}),0)+n.price,Object(ve.jsx)(be.CurrencyIcon,{type:"primary"})]}),Object(ve.jsx)(be.Button,{type:"primary",size:"large",onClick:function(){t(o)},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},Et=function(e){var t=e.handleRequest,n=Te(ut),r=n.bun,c=n.constructorIngredients;return Object(ve.jsx)(Ct,{handleRequest:t,bun:r,ingredients:c})},St=n(121),Tt=n.n(St),Rt=n(65),kt=n.n(Rt),Dt=n(122),Wt=n.n(Dt),Mt=function(e){var t=e.children,n=e.handleOverlayClick;return Object(ve.jsx)("div",{className:Wt.a.overlay,onClick:function(e){return e.currentTarget===e.target&&n()},children:t})},Pt=function(e){var t=e.children,n=e.headerTitle,c=e.from,i=e.handleClose;Object(r.useEffect)((function(){return document.addEventListener("keydown",s),function(){return document.removeEventListener("keydown",s)}}));var s=function(e){"Escape"===e.key&&o()},o=function(){i(c)};return Object(a.createPortal)(Object(ve.jsx)(Mt,{handleOverlayClick:o,children:Object(ve.jsxs)("div",{className:kt.a.wrapper,children:[Object(ve.jsxs)("div",{className:kt.a.header,children:["string"===typeof n?Object(ve.jsx)("p",{className:"text text_type_main-large",children:n}):Object(ve.jsx)("p",{className:"text text_type_digits-default",children:n}),Object(ve.jsx)("button",{className:kt.a.button,onClick:o,"data-cy":"closeModal",children:Object(ve.jsx)(be.CloseIcon,{type:"primary"})})]}),t]})}),document.getElementById("modal"))},zt=n(123),At=n.n(zt),Bt=n.p+"static/media/orderCheck.72dc0038.svg",Ut=function(e){var t=e.orderId;return Object(ve.jsxs)("div",{className:At.a.wrapper,children:[Object(ve.jsxs)("h2",{className:"text text_type_digits-large","data-cy":"orderNumber",children:[" ",0===t?null:t,"  "]}),Object(ve.jsx)("p",{className:"text text_type_main-medium mt-8 mb-15",children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(ve.jsx)("img",{src:Bt,alt:"check"}),Object(ve.jsx)("p",{className:"text text_type_main-default mt-15 mb-8",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(ve.jsx)("p",{className:"text text_type_main-default text_color_inactive mb-30",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},qt=n(124),Lt=n.n(qt),Gt=function(){return Object(ve.jsx)("div",{className:"text text_type_main-large ".concat(Lt.a.main),children:"... \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ..."})},Ft=function(){var e=Te(dt).isAuth,t=Te(ut),n=t.order,r=t.isModal,c=t.orderRequest,a=Object(_e.g)(),i=Re(),s=Object(_e.h)(),o=function(e){i(it()),a.replace({pathname:e})};return Object(ve.jsxs)("div",{className:Tt.a.wrapper,children:[Object(ve.jsx)(xt,{handleClick:function(e){a.replace({pathname:"/ingredients/".concat(e)})}}),Object(ve.jsx)(Et,{handleRequest:function(t){e?(i(ot(t)),i({type:N})):a.replace({pathname:"/login",state:{from:s}})}}),c?Object(ve.jsx)(Pt,{from:"/",handleClose:o,children:Object(ve.jsx)(Gt,{})}):r&&Object(ve.jsx)(Pt,{from:"/",handleClose:o,children:Object(ve.jsx)(Ut,{orderId:n})})]})},Jt=n(40),Ht=n.n(Jt),Qt=function(e){var t=e.data;return t?Object(ve.jsxs)("div",{className:Ht.a.wrapper,children:[Object(ve.jsx)("div",{children:Object(ve.jsx)("img",{src:t.image_large,alt:"Ingredient"})}),Object(ve.jsx)("p",{className:"text text_type_main-medium mt-4",children:t.name}),Object(ve.jsxs)("div",{className:"".concat(Ht.a.detailsContainer," mt-4 mb-15"),children:[Object(ve.jsxs)("div",{className:Ht.a.details,children:[Object(ve.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(ve.jsx)("p",{className:"text text_type_digits-default text_color_inactive","data-cy":"modal-ingredientCalories",children:t.calories})]}),Object(ve.jsxs)("div",{className:Ht.a.details,children:[Object(ve.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(ve.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:t.proteins})]}),Object(ve.jsxs)("div",{className:Ht.a.details,children:[Object(ve.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(ve.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:t.fat})]}),Object(ve.jsxs)("div",{className:Ht.a.details,children:[Object(ve.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(ve.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:t.carbohydrates})]})]})]}):null},Kt=function(e){var t=e.ingredients,n=Object(_e.i)().ingredientId,c=t.filter((function(e){return e._id===n}))[0],a=Re(),i=Object(_e.h)(),s=Object(_e.g)();Object(r.useEffect)((function(){c||a({type:d,ingredient:c})}),[a,c]);return Object(ve.jsx)(ve.Fragment,{children:i.key?Object(ve.jsx)(Pt,{headerTitle:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",from:"/",handleClose:function(e){a({type:j}),a({type:u}),s.replace({pathname:e})},children:Object(ve.jsx)(Qt,{data:c})}):Object(ve.jsx)(Qt,{data:c})})},Vt=["children"],Xt=function(e){var t,n=e.children,c=Object(rt.a)(e,Vt),a=Te((function(e){return e.user.isAuth})),i=Object(r.useState)(!1),s=Object(Ie.a)(i,2),o=s[0],l=s[1],d=Re(),u=null===(t=Object(_e.h)().state)||void 0===t?void 0:t.from,p=u?u.pathname:V.path;return Object(r.useEffect)((function(){d(Ue()),l(!0)}),[d]),o?Object(ve.jsx)(_e.b,Object(L.a)(Object(L.a)({},c),{},{render:function(){return a?Object(ve.jsx)(_e.a,{to:{pathname:p}}):n}})):null},Yt=function(){return{type:P}},Zt=function(){return{type:S}},$t=n(53),en=n.n($t),tn=n(24),nn=n.n(tn),rn=n(222),cn=n(225),an=function(e){var t=e.fullname,n=e.ingredients,r=e.createdAt,c=e.id,a=Object(_e.g)(),i=Object(rn.a)(new Date(r),new Date,{locale:cn.a}),s=new Set(n),o=Object(ft.a)(s);return n?Object(ve.jsxs)("div",{className:nn.a.wrapper,onClick:function(){return function(e){a.replace({pathname:"/feed/".concat(e)})}(c)},children:[Object(ve.jsxs)("p",{className:nn.a.flex,children:[Object(ve.jsxs)("span",{className:"text text_type_digits-default",children:["#",c]}),Object(ve.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:i})]}),Object(ve.jsx)("p",{className:"".concat(nn.a.full_name," text text_type_main-medium mb-6 mt-6"),children:t}),Object(ve.jsxs)("div",{className:"".concat(nn.a.footer," mb-2"),children:[Object(ve.jsx)("ul",{className:nn.a.iconsWrapper,children:o.filter((function(e,t){return t<6})).map((function(e,t){var r=n?(null===n||void 0===n?void 0:n.length)-6:0;return Object(ve.jsxs)("li",{className:nn.a.imageWrapper,children:[Object(ve.jsx)("img",{className:nn.a.ingredientImage,src:null===e||void 0===e?void 0:e.image,alt:"no img"}),5===t&&Object(ve.jsxs)("span",{className:nn.a.count,children:["+",r]})]},t)}))}),Object(ve.jsx)("span",{className:nn.a.icon_and_price,children:Object(ve.jsxs)("div",{className:nn.a.icon_and_priceWrapper,children:[Object(ve.jsx)("span",{className:"text text_type_digits-default",children:n.reduce((function(e,t){return e+t.price}),0)}),Object(ve.jsx)("span",{className:nn.a.icon,children:Object(ve.jsx)(be.CurrencyIcon,{type:"primary"})})]})})]})]}):null},sn=n(45),on=n.n(sn),ln=function(e){var t=e.ordersDone,n=e.ordersPending,r=e.total,c=e.totalToday;return Object(ve.jsxs)("section",{className:on.a.wrapper,children:[Object(ve.jsxs)("div",{className:on.a.order_status,children:[Object(ve.jsxs)("div",{children:[Object(ve.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0413\u043e\u0442\u043e\u0432\u044b: "}),Object(ve.jsx)("div",{className:on.a.scrollable,children:t?t.map((function(e,t){return Object(ve.jsx)("p",{className:"".concat(on.a.done," text text_type_digits-default"),children:e},t)})):null})]}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435: "}),Object(ve.jsx)("div",{className:on.a.scrollable,children:n?n.map((function(e,t){return Object(ve.jsx)("p",{className:"text text_type_digits-default",children:e},t)})):null})]})]}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("p",{className:"text text_type_main-medium mt-15",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(ve.jsx)("p",{className:"text text_type_digits-large",children:r})]}),Object(ve.jsxs)("div",{children:[Object(ve.jsx)("p",{className:"text text_type_main-medium mt-15",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(ve.jsx)("p",{className:"text text_type_digits-large",children:c})]})]})},dn=function(e){var t=e.orders,n=e.total,c=e.totalToday,a=e.ordersDone,i=e.ordersPending,s=Re();return Object(r.useEffect)((function(){return function(){s(Yt())}})),Object(ve.jsxs)("div",{className:en.a.wrapper,children:[Object(ve.jsxs)("section",{className:en.a.feed,children:[Object(ve.jsx)("div",{className:"text text_type_main-medium",children:X.title}),Object(ve.jsx)("div",{className:en.a.scrollable,children:t&&t.map((function(e){return Object(ve.jsx)(an,Object(L.a)({},e),e.id)}))})]}),Object(ve.jsx)("section",{className:en.a.orders,children:Object(ve.jsx)(ln,{ordersDone:a,ordersPending:i,total:n,totalToday:c})})]})},un=function(){var e=Re(),t=Te((function(e){return e.wsOrders})),n=t.total,c=t.totalToday,a=Te((function(e){return e.ingredients.ingredients})),i=t.orders.map((function(e){return{id:e.number,createdAt:e.createdAt,fullname:e.name,status:e.status,ingredients:e.ingredients.map((function(e){return pe(je(a,e))}))}})),s=i.filter((function(e){return"done"===e.status})).map((function(e){return e.id})),o=i.filter((function(e){return"pending"===e.status})).map((function(e){return e.id}));return Object(r.useEffect)((function(){t.wsConnected||e(Zt())}),[e]),Object(ve.jsx)(ve.Fragment,{children:i?Object(ve.jsx)(dn,{orders:i,total:n,totalToday:c,ordersDone:s,ordersPending:o}):Object(ve.jsx)("div",{children:"Loading..."})})},pn=n(23),jn=n.n(pn),mn=function(e){var t=e.img,n=e.price,r=e.name,c=e.type,a=e.amount;return a="bun"===c?2:a,Object(ve.jsxs)("div",{className:"".concat(jn.a.itemWrapper," mb-4 mr-6"),children:[Object(ve.jsx)("div",{className:jn.a.iconsWrapper,children:Object(ve.jsx)("div",{className:jn.a.imageWrapper,children:Object(ve.jsx)("img",{className:jn.a.ingredientImage,src:t,alt:"no img"})})}),Object(ve.jsx)("div",{className:"text text_type_main-default",children:r}),Object(ve.jsxs)("div",{className:"".concat(jn.a.price," ml-4 text text_type_digits-default"),children:[Object(ve.jsx)("div",{children:a}),Object(ve.jsx)("div",{children:"x"}),Object(ve.jsx)("div",{children:n})]})]})},bn=function(e){var t=e.show,n=e.paramsId,r=e.orders,c=r&&r.length&&r.find((function(e){return e.number===n})),a=c&&Object(rn.a)(new Date(c.createdAt),new Date,{locale:cn.a}),i=Te((function(e){return e.ingredients.ingredients})),s=c&&c.ingredients.map((function(e){return je(i,e)})),o=new Map;s&&s.map((function(e){var t=null===e||void 0===e?void 0:e._id;return o.has(t)?o.set(t,o.get(t)+1):o.set(t,1),o}));var l=s&&new Set(s),d=Object(ft.a)(l);return Object(ve.jsxs)("div",{className:jn.a.wrapper,children:[t?Object(ve.jsxs)("p",{className:"".concat(jn.a.id," text text_type_digits-default"),children:["#",n]}):null,Object(ve.jsx)("p",{className:"text text_type_main-medium mb-3",children:c&&c.name}),Object(ve.jsx)("p",{className:"text text_type_main-small mb-15",children:c&&function(e){switch(e){case"done":return"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d";case"created":return"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d";case"cancelled":return"\u041e\u0442\u043c\u0435\u043d\u0435\u043d";case"pending":return"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"}}(c.status)}),Object(ve.jsx)("p",{className:"text text_type_main-medium mb-6",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(ve.jsx)("div",{className:"".concat(jn.a.scrollable," mb-10"),children:d.map((function(e,t){var n=o.get(null===e||void 0===e?void 0:e._id);return e&&Object(ve.jsx)(mn,{img:e.image,name:e.name,type:e.type,price:e.price,amount:n},t)}))}),Object(ve.jsxs)("footer",{className:"mb-15 ".concat(jn.a.footer),children:[Object(ve.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:a}),Object(ve.jsxs)("span",{className:"".concat(jn.a.icon," text text_type_digits-default"),children:[s&&s.reduce((function(e,t){return e+t.price}),0),Object(ve.jsx)(be.CurrencyIcon,{type:"primary"})]})]})]})},_n=function(){var e=Object(_e.i)().id,t=Re(),n=parseInt(e,10),c=Te((function(e){return e.wsOrders.orders})),a=Te((function(e){return e.ingredients.ingredients})),i=Object(_e.h)(),s=Object(_e.g)();if(Object(r.useEffect)((function(){return c.length||t(Zt()),a.length||t(me()),function(){t(Yt())}}),[t,c,a]),!c.length)return null;return Object(ve.jsx)(ve.Fragment,{children:i.key?Object(ve.jsx)(Pt,{headerTitle:n,from:"/feed",handleClose:function(e){t(it()),s.replace({pathname:e})},children:Object(ve.jsx)(bn,{show:!1,orders:c,paramsId:n})}):Object(ve.jsx)(bn,{show:!0,orders:c,paramsId:n})})},On=n(32),hn=n.n(On),xn=n(25),fn=n.n(xn),gn=function(e){var t=e.createdAt,n=e.number,r=e.name,c=e.ingredients,a=e.status,i=Object(rn.a)(new Date(t),new Date,{locale:cn.a}),s=Te((function(e){return e.ingredients.ingredients})),o=c.map((function(e){return je(s,e)})),l=new Set(o),d=Object(ft.a)(l),u=Object(_e.g)();return Object(ve.jsxs)("div",{className:fn.a.wrapper,onClick:function(){return e=n,void u.replace({pathname:"/profile/orders/".concat(e)});var e},children:[Object(ve.jsxs)("p",{className:"".concat(fn.a.flex," mb-6"),children:[Object(ve.jsxs)("span",{className:"text text_type_digits-default",children:["#",n]}),Object(ve.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:i})]}),Object(ve.jsx)("p",{className:"".concat(fn.a.full_name," text text_type_main-medium mb-2"),children:r}),Object(ve.jsx)("p",{className:"text text_type_main-default mb-6",children:function(e){switch(e){case"done":return"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d";case"created":return"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d";case"cancelled":return"\u041e\u0442\u043c\u0435\u043d\u0435\u043d";case"pending":return"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"}}(a)}),Object(ve.jsxs)("div",{className:"".concat(fn.a.footer," mb-6"),children:[Object(ve.jsx)("ul",{className:fn.a.iconsWrapper,children:d.filter((function(e,t){return t<6})).map((function(e,t){var n=c?(null===c||void 0===c?void 0:c.length)-6:0;return Object(ve.jsxs)("li",{className:fn.a.imageWrapper,children:[Object(ve.jsx)("img",{className:fn.a.ingredientImage,src:null===e||void 0===e?void 0:e.image,alt:"no img"}),5===t&&Object(ve.jsxs)("span",{className:fn.a.count,children:["+",n]})]},t)}))}),Object(ve.jsx)("span",{className:fn.a.icon_and_price,children:Object(ve.jsxs)("div",{className:fn.a.icon_and_priceWrapper,children:[Object(ve.jsx)("span",{className:"text text_type_digits-default",children:o.reduce((function(e,t){return e+t.price}),0)}),Object(ve.jsx)("span",{className:fn.a.icon,children:Object(ve.jsx)(be.CurrencyIcon,{type:"primary"})})]})})]})]})},vn=function(){var e="text text_type_main-medium text_color_inactive",t=Object(r.useState)("/profile/orders"),n=Object(Ie.a)(t,2),c=n[0],a=n[1],i=Te((function(e){return e.wsOrders})),s=Re(),o=Object(ft.a)(null===i||void 0===i?void 0:i.userOrders).reverse();return Object(r.useEffect)((function(){return i.wsUserConnected||s({type:T}),function(){s({type:M})}}),[s]),Object(ve.jsxs)("div",{className:hn.a.wrapper,children:[Object(ve.jsxs)("nav",{className:"".concat(hn.a.nav," mr-30"),children:[Object(ve.jsxs)("div",{className:"".concat(hn.a.list," mb-20"),children:[Object(ve.jsx)(Oe.c,{to:"/profile",className:"".concat(hn.a.listItem," ").concat(e),activeClassName:"/profile"===c?"".concat(hn.a.active):"",onClick:function(){return a("/profile")},children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(ve.jsx)(Oe.c,{to:"/profile/orders",className:"".concat(hn.a.listItem," ").concat(e),activeClassName:"/profile/orders"===c?"".concat(hn.a.active):"",onClick:function(){return a("/profile/orders")},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(ve.jsx)("div",{className:"".concat(hn.a.listItem," ").concat(e),onClick:function(){s(Be())},children:"\u0412\u044b\u0445\u043e\u0434"})]}),Object(ve.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0441\u0432\u043e\u0438\u0445 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]}),Object(ve.jsx)("div",{className:hn.a.scrollable,children:!!i.userOrders.length&&o.map((function(e,t){return Object(r.createElement)(gn,Object(L.a)(Object(L.a)({},e),{},{key:t}))}))})]})},yn=function(){var e=Object(_e.i)().id,t=Re(),n=parseInt(e,10),c=Object(_e.h)(),a=Te((function(e){return e.wsOrders.orders})),i=Object(_e.g)();if(Object(r.useEffect)((function(){a.length||t(Zt())}),[t,a]),!a.length)return null;return Object(ve.jsx)(ve.Fragment,{children:c.key?Object(ve.jsx)(Pt,{headerTitle:n,from:"/profile/orders",handleClose:function(e){t(it()),i.replace({pathname:e})},children:Object(ve.jsx)(bn,{show:!1,orders:a,paramsId:n})}):Object(ve.jsx)(bn,{show:!0,orders:a,paramsId:n})})},Nn=function(e){var t=e.ingredients,n=Object(_e.h)(),r=n.state&&n.state.background;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Ne,{}),Object(ve.jsxs)(_e.d,{location:r||n,children:[Object(ve.jsxs)(_e.b,{path:V.path,exact:!0,children:[Object(ve.jsx)(Ft,{})," "]}),Object(ve.jsx)(_e.b,{path:te.path,children:Object(ve.jsx)(Kt,{ingredients:t})}),Object(ve.jsx)(_e.b,{path:X.path,exact:!0,children:Object(ve.jsx)(un,{})}),Object(ve.jsx)(_e.b,{path:Y.path,children:Object(ve.jsx)(_n,{})}),Object(ve.jsx)(Xt,{path:ne.path,exact:!0,children:Object(ve.jsx)(qe,{})}),Object(ve.jsx)(Xt,{path:re.path,exact:!0,children:Object(ve.jsx)(Fe,{})}),Object(ve.jsx)(Xt,{path:ce.path,exact:!0,children:Object(ve.jsx)(Qe,{})}),Object(ve.jsx)(Xt,{path:ae.path,exact:!0,children:Object(ve.jsx)(Xe,{})}),Object(ve.jsx)(at,{path:Z.path,exact:!0,children:Object(ve.jsx)($e,{})}),Object(ve.jsx)(at,{path:$.path,exact:!0,children:Object(ve.jsx)(vn,{})}),Object(ve.jsx)(at,{path:ee.path,exact:!0,children:Object(ve.jsx)(yn,{})}),Object(ve.jsx)(_e.b,{path:"*",children:Object(ve.jsx)(nt,{})})]})]})},wn=function(){var e=Re(),t=Te(lt),n=t.ingredients,c=t.ingredientsRequest;return Object(r.useEffect)((function(){n.length||e(me())}),[e,n.length]),c?Object(ve.jsx)(Gt,{}):Object(ve.jsx)(Nn,{ingredients:n})},In=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,226)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},Cn={ingredients:[],ingredientsError:!1,ingredientsRequest:!1,currentIngredient:{},isModal:!1},En={constructorIngredients:[],bun:{_id:"",name:"",type:"bun",proteins:0,fat:0,carbohydrates:0,calories:0,price:0,image:"",image_mobile:"",image_large:"",uniqueId:0,index:0},ingredientsMap:new Map,bunMap:new Map,order:Number(),orderError:!1,orderRequest:!1,isModal:!1},Sn={email:"",password:"",name:"",isAuth:!1,request:!1,error:!1,resetPassSuccess:!1},Tn={wsConnected:!1,orders:[],total:0,totalToday:0,userOrders:[],wsUserConnected:!1},Rn=n(39),kn=n(125),Dn=function(e,t){return function(n){var r=null;return function(c){return function(a){var i=n.dispatch,s=a.type,o=t.wsInit,l=t.onOpen,d=t.onClose,u=t.onError,p=t.onMessage,j=t.wsUserInit,m=ie("accessToken");s===o?r=new WebSocket("".concat(e,"/all")):s===j&&m&&(r=new WebSocket("".concat(e).concat("?token="+m))),r&&(r.onopen=function(e){i({type:l,payload:e})},r.onerror=function(e){i({type:u,payload:e})},r.onclose=function(e){i({type:d,payload:e})},r.onmessage=function(e){var t=e.data,n=JSON.parse(t);i({type:p,payload:n})}),c(a)}}}},Wn={wsInit:S,onOpen:k,onClose:P,onError:W,onMessage:z},Mn={wsUserInit:T,onOpen:R,onClose:M,onError:D,onMessage:A},Pn=Object(Rn.b)({ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(L.a)(Object(L.a)({},e),{},{isModal:!0});case j:return Object(L.a)(Object(L.a)({},e),{},{isModal:!1});case o:return Object(L.a)(Object(L.a)({},e),{},{ingredientsRequest:!0});case l:return Object(L.a)(Object(L.a)({},e),{},{ingredientsError:!0,ingredientsRequest:!1});case s:return Object(L.a)(Object(L.a)({},e),{},{ingredients:t.ingredients,ingredientsError:!1,ingredientsRequest:!1});case d:return Object(L.a)(Object(L.a)({},e),{},{currentIngredient:Object(L.a)({},t.ingredient)});case u:return Object(L.a)(Object(L.a)({},e),{},{currentIngredient:{}});default:return e}},burgerConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(L.a)(Object(L.a)({},e),{},{isModal:!0});case w:return Object(L.a)(Object(L.a)({},e),{},{isModal:!1});case m:return Object(L.a)(Object(L.a)({},e),{},{bun:t.item});case b:return Object(L.a)(Object(L.a)({},e),{},{constructorIngredients:[].concat(Object(ft.a)(e.constructorIngredients),[t.item])});case h:var n=e.ingredientsMap,r=t.id;return n.has(r)?n.set(r,n.get(r)+1):n.set(r,1),Object(L.a)(Object(L.a)({},e),{},{ingredientsMap:n});case x:var c=e.bunMap,a=t.id;return c.has(a)||(c.clear(),c.set(a,1)),Object(L.a)(Object(L.a)({},e),{},{bunMap:c});case g:return Object(L.a)(Object(L.a)({},e),{},{orderRequest:!0});case v:return Object(L.a)(Object(L.a)({},e),{},{orderError:!0,orderRequest:!1});case f:return Object(L.a)(Object(L.a)({},e),{},{order:t.number,orderError:!1,orderRequest:!1});case _:var i=pe(e.constructorIngredients.find((function(e){return e.uniqueId===t.dragIndex}))),s=e.constructorIngredients.findIndex((function(e){return e.uniqueId===t.dragIndex})),o=e.constructorIngredients.findIndex((function(e){return e.uniqueId===t.hoverIndex})),l=Object(ft.a)(e.constructorIngredients);return l.splice(s,1),l.splice(o,0,i),Object(L.a)(Object(L.a)({},e),{},{constructorIngredients:l});case O:var d=e.constructorIngredients.findIndex((function(e){return e.uniqueId===t.id})),u=Object(ft.a)(e.constructorIngredients);u.splice(d,1);var p=e.constructorIngredients[d]._id,j=e.ingredientsMap;return j.has(p)&&j.set(p,j.get(p)-1),Object(L.a)(Object(L.a)({},e),{},{constructorIngredients:u,ingredientsMap:j});case y:return Object(L.a)(Object(L.a)({},e),{},{constructorIngredients:[],bun:{_id:"",name:"",type:"bun",proteins:0,fat:0,carbohydrates:0,calories:0,price:0,image:"",image_mobile:"",image_large:"",uniqueId:0,index:0},bunMap:new Map,ingredientsMap:new Map});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(L.a)(Object(L.a)({},e),{},{error:!1,request:!0},t.payload);case C:return Object(L.a)(Object(L.a)({},e),{},{error:!0,request:!1},t.payload);case E:return Object(L.a)(Object(L.a)({},e),{},{error:!1,request:!1},t.payload);default:return e}},wsOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:case W:return Object(L.a)(Object(L.a)({},e),{},{wsConnected:!1});case k:return Object(L.a)(Object(L.a)({},e),{},{wsConnected:!0});case z:return Object(L.a)(Object(L.a)({},e),{},{total:t.payload.total,totalToday:t.payload.totalToday,orders:t.payload.orders});case A:return Object(L.a)(Object(L.a)({},e),{},{userOrders:t.payload.orders});case R:return Object(L.a)(Object(L.a)({},e),{},{wsUserConnected:!0});case M:case D:return Object(L.a)(Object(L.a)({},e),{},{wsUserConnected:!1});default:return e}}}),zn=window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Rn.c,An=Object(Rn.d)(Pn,zn(Object(Rn.a)(kn.a,Dn(F,Wn),Dn(F,Mn)))),Bn=n(221),Un=n(126);i.a.render(Object(ve.jsx)(c.a.StrictMode,{children:Object(ve.jsx)(Oe.a,{basename:"/stellar-burgers",children:Object(ve.jsx)(Se.a,{store:An,children:Object(ve.jsx)(Bn.a,{backend:Un.a,children:Object(ve.jsx)(wn,{})})})})}),document.getElementById("root")),In()},23:function(e,t,n){e.exports={wrapper:"order-history_wrapper__3yIQx",id:"order-history_id__1ATO_",footer:"order-history_footer__-RToS",icon:"order-history_icon__19Pca",itemWrapper:"order-history_itemWrapper__2Oi3B",iconsWrapper:"order-history_iconsWrapper__1pKoy",imageWrapper:"order-history_imageWrapper__mY79k",ingredientImage:"order-history_ingredientImage__1RTc6",price:"order-history_price__127fg",scrollable:"order-history_scrollable__3MIu3"}},24:function(e,t,n){e.exports={wrapper:"order-item_wrapper__ikpA2",ingredients:"order-item_ingredients__4HcB-",full_name:"order-item_full_name__2YB5m",footer:"order-item_footer__2ynoy",iconsWrapper:"order-item_iconsWrapper__wfLKO",imageWrapper:"order-item_imageWrapper__1JubI",ingredientImage:"order-item_ingredientImage__egArF",flex:"order-item_flex__3lA9j",icon_and_price:"order-item_icon_and_price__3NyHw",icon_and_priceWrapper:"order-item_icon_and_priceWrapper__3GJlv",count:"order-item_count__3Jj0I"}},25:function(e,t,n){e.exports={wrapper:"user-order-item_wrapper__2nxKG",ingredients:"user-order-item_ingredients__28Q69",full_name:"user-order-item_full_name__2CVe8",footer:"user-order-item_footer__3pQ6u",iconsWrapper:"user-order-item_iconsWrapper__19nzP",imageWrapper:"user-order-item_imageWrapper__1YVIk",ingredientImage:"user-order-item_ingredientImage__3VNMU",flex:"user-order-item_flex__3t6Fl",icon_and_price:"user-order-item_icon_and_price__2L006",icon_and_priceWrapper:"user-order-item_icon_and_priceWrapper__2Xliu",count:"user-order-item_count__1TPFc"}},30:function(e,t,n){e.exports={wrapper:"profile_wrapper__2FzGO",form:"profile_form__3N5Es",nav:"profile_nav__PWFGE",list:"profile_list__f8xZo",listItem:"profile_listItem__24kLl",active:"profile_active__2PC0d"}},31:function(e,t,n){e.exports={wrapper:"burger-constructor_wrapper__1PwzH",bun:"burger-constructor_bun__3kzmO",scrollable:"burger-constructor_scrollable__2wU_4",footer:"burger-constructor_footer__2ymy-",summary:"burger-constructor_summary__3EX2j",addMain:"burger-constructor_addMain__3NEXK",add:"burger-constructor_add__aQP_w",ingredientsWrapper:"burger-constructor_ingredientsWrapper__2H_Br"}},32:function(e,t,n){e.exports={wrapper:"user-orders_wrapper__3pecK",nav:"user-orders_nav__1XsEG",list:"user-orders_list__1Jzg9",listItem:"user-orders_listItem__pKUWL",active:"user-orders_active__2o0tS",scrollable:"user-orders_scrollable__2Wxpd"}},34:function(e,t,n){e.exports={wrapper:"menu_wrapper__3QhxI",scrollable:"menu_scrollable__ng2fl",figure:"menu_figure__2Pz3u",ingredientContainer:"menu_ingredientContainer__1TU90"}},40:function(e,t,n){e.exports={wrapper:"ingredient-details_wrapper__25vk4",detailsContainer:"ingredient-details_detailsContainer__znhvP",details:"ingredient-details_details__1BQbK"}},44:function(e,t,n){e.exports={wrapper:"burger-ingredient_wrapper__e224z",price:"burger-ingredient_price__3Iim6",counter:"burger-ingredient_counter__3I-X9",link:"burger-ingredient_link__Rc31N"}},45:function(e,t,n){e.exports={order_status:"order-status-board_order_status__303Nu",scrollable:"order-status-board_scrollable__8SdZ0",wrapper:"order-status-board_wrapper__1UQQ_",done:"order-status-board_done__nJ1x4"}},52:function(e,t,n){e.exports={header:"app-header_header__27JyB",wrapper:"app-header_wrapper__1uWk0",logoWrapper:"app-header_logoWrapper__nwPlh",nav:"app-header_nav__2CsKz"}},53:function(e,t,n){e.exports={wrapper:"feed_wrapper__2UQNR",feed:"feed_feed__3GHqx",orders:"feed_orders__8CqEB",scrollable:"feed_scrollable__TAsW0"}},64:function(e,t,n){e.exports={navTitle:"header-nav-item_navTitle__2W5Gv",inactive:"header-nav-item_inactive__3bn5U",active:"header-nav-item_active__21K9O"}},65:function(e,t,n){e.exports={wrapper:"modal_wrapper__uEJcf",button:"modal_button__l5jH0",header:"modal_header__drwKg"}},87:function(e,t,n){e.exports={wrapper:"login_wrapper__3n7lB",form:"login_form__17j0r"}},88:function(e,t,n){e.exports={wrapper:"sign-up_wrapper__1bAFC",form:"sign-up_form__RlChb"}},89:function(e,t,n){e.exports={wrapper:"new-password_wrapper__1xQ_f",form:"new-password_form__1OwKM"}},90:function(e,t,n){e.exports={wrapper:"reset-password_wrapper__1wwdr",form:"reset-password_form__3QLeL"}},91:function(e,t,n){e.exports={wrapper:"error404_wrapper__1uZau",inactive:"error404_inactive__1hmds"}}},[[216,1,2]]]);
//# sourceMappingURL=main.9ff8a38e.chunk.js.map