{"version":3,"sources":["pages/error404/error404.module.css","components/burger-constructor/draggable-ingredient/draggable-ingredient.module.css","components/modal-overlay/modal-overlay.module.css","components/order-details/order-details.module.css","components/main-content-container/main-content-container.module.css","services/actions/action-types.ts","utils/constants.ts","utils/common.ts","services/actions/ingredients-actions.ts","components/app-header/app-nav-item/header-nav-item.tsx","components/app-header/app-header.tsx","utils/hooks.ts","services/actions/user-actions.ts","pages/login/login.tsx","pages/sign-up/sign-up.tsx","pages/new-password/new-password.tsx","pages/reset-password/reset-password.tsx","pages/profile/profile.tsx","pages/error404/error404.tsx","components/protected-route/protected-route.tsx","services/actions/constructor-actions.ts","components/bureger-ingredients/burger-ingredient/burger-ingredient.tsx","components/bureger-ingredients/burger-ingredients.tsx","components/burger-constructor/draggable-ingredient/draggable-ingredient.tsx","components/burger-constructor/burger-constructor.tsx","components/modal-overlay/modal-overlay.tsx","components/modal/modal.tsx","images/orderCheck.svg","components/order-details/order-details.tsx","components/main-content-container/main-content-container.tsx","components/ingredient-details/ingredient-details.tsx","pages/ingredient/ingredient-container.tsx","components/with-unauth-redirect/with-unauth-redirect.tsx","services/actions/ws-actions.ts","components/feed/order-item/order-item.tsx","components/feed/order-status-board/order-status-board.tsx","components/feed/feed.tsx","components/feed/feed-container.tsx","pages/feed/feed-page-item.tsx","pages/feed/feed-page.tsx","pages/feed/feed-page-container.tsx","pages/profile/order-item/order-item.tsx","pages/profile/profile-orders/profile-orders.tsx","pages/profile/profile-orders/profile-order-container.tsx","components/app/app.tsx","components/app/app-container.tsx","reportWebVitals.ts","services/redusers/ingredients-reducer.ts","services/redusers/constructor-reducer.ts","services/redusers/user-reducer.ts","services/redusers/ws-reducer.ts","services/middleware/wsMiddleware.ts","services/redusers/index.ts","index.tsx","pages/feed/feed-page.module.css","components/feed/order-item/order-item.module.css","pages/profile/order-item/order-item.module.css","pages/profile/profile.module.css","pages/profile/profile-orders/profile-orders.module.css","components/bureger-ingredients/burger-ingredients.module.css","components/burger-constructor/burger-constructor.module.css","components/ingredient-details/ingredient-details.module.css","components/bureger-ingredients/burger-ingredient/burger-ingredient.module.css","components/feed/order-status-board/order-status-board.module.css","components/app-header/app-header.module.css","components/feed/feed.module.css","components/app-header/app-nav-item/header-nav-item.module.css","components/modal/modal.module.css","pages/login/login.module.css","pages/sign-up/sign-up.module.css","pages/new-password/new-password.module.css","pages/reset-password/reset-password.module.css"],"names":["module","exports","SET_INGREDIENTS_SUCCESS","SET_INGREDIENTS_REQUEST","SET_INGREDIENTS_ERROR","SET_CURRENT_INGREDIENT","REMOVE_CURRENT_INGREDIENT","SHOW_INGREDIENTS_MODAL","HIDE_INGREDIENTS_MODAL","ADD_BUN","ADD_INGREDIENT","MOVE_INGREDIENT","REMOVE_ITEM","ADD_TO_INGREDIENTS_MAP","ADD_TO_BUN_MAP","POST_ORDER_SUCCESS","POST_ORDER_REQUEST","POST_ORDER_ERROR","CLEAR_CONSTRUCTOR","SHOW_MODAL","HIDE_MODAL","REQUEST","REQUEST_ERROR","REQUEST_SUCCESS","WS_CONNECTION_START","WS_CONNECTION_PROFILE_ORDERS_START","WS_USER_CONNECTION_SUCCESS","WS_CONNECTION_SUCCESS","WS_USER_CONNECTION_ERROR","WS_CONNECTION_ERROR","WS_USER_CONNECTION_CLOSED","WS_CONNECTION_CLOSED","WS_GET_ORDERS","WS_GET_USER_ORDERS","BASE_URL","WS_URL","BUN","SAUCE","MAIN","TABS","displayName","type","ROUTES","title","path","getCookie","name","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","value","options","expires","Date","toUTCString","updatedCookie","encodeURIComponent","optionKey","optionValue","deleteCookie","checkResponse","res","ok","json","then","err","Promise","reject","refreshToken","fetch","method","headers","body","JSON","stringify","token","retriableFetch","url","a","result","message","refreshData","accessToken","authorization","ensure","argument","TypeError","getIngredientById","array","id","find","i","_id","requestIngredients","dispatch","ingredients","success","data","catch","console","log","HeaderNavItem","exact","children","text","className","to","activeClassName","s","active","inactive","navTitle","AppHeader","pathname","useLocation","header","wrapper","nav","logoWrapper","useSelector","selectorHook","useDispatch","dispatchHook","request","requestError","setUserData","email","payload","isAuth","resetPassword","resetPassSuccess","savePassword","newPassword","password","signUp","split","signUpSuccess","logIn","logInSuccess","user","logOut","getUserData","Authorization","Login","useState","form","setValue","onChange","e","target","icon","setIcon","inputPassRef","useRef","passInputType","logInHandle","useCallback","preventDefault","onSubmit","placeholder","size","onIconClick","setTimeout","current","focus","ref","SignUp","React","signUpHandle","NewPassword","history","useHistory","location","emailValue","setEmailValue","state","resetRequset","prevPath","ResetPassword","goBack","code","passSave","Profile","isLoaded","userName","userEmail","userPass","isEdit","setIsEdit","editIconHandler","onFocusHandler","useEffect","setPath","linkStyle","list","listItem","onClick","onFocus","Error404","ProtectedRoute","rest","setIsLoaded","render","from","addToConstructor","item","addBun","addToIngredientsMap","addIngredient","postOrder","number","order","BurgerIngredient","ingredient","ingredientId","bunAmount","burgerConstructor","bunMap","get","ingredientAmount","ingredientsMap","amount","useDrag","end","monitor","dropResult","getDropResult","generatedId","now","Math","random","uniqueId","collect","isDragging","drag","background","link","counter","src","image","alt","count","price","BurgerIngredients","handleClick","ingredientsRequest","setCurrent","bunRef","sauceRef","mainRef","tabRef","onTabClick","scrollIntoView","behavior","style","display","map","tab","scrollable","onScroll","tabsTop","getBoundingClientRect","top","bunsDistance","abs","saucesDistance","mainsDistance","maxValue","min","figure","filter","ingredientContainer","DraggableIngredient","useDrop","accept","hover","dragIndex","hoverIndex","hoverBoundingRect","hoverMiddleY","bottom","hoverClientY","getClientOffset","y","moveIngredient","index","drop","opacity","constructorWrapper","thumbnail","handleClose","BurgerConstructor","handleRequest","bun","constructorIngredients","isBun","isIngredients","Object","keys","length","requestData","flexDirection","gap","isLocked","alignItems","justifyContent","footer","summary","reduce","sum","ModalOverlay","handleOverlayClick","overlay","currentTarget","Modal","headerTitle","addEventListener","closeOnESC","removeEventListener","key","onModalClose","createPortal","button","getElementById","OrderDetails","orderId","orderCheck","MainContentContainer","isOrderModal","isModal","IngredientDetails","image_large","detailsContainer","details","calories","proteins","fat","carbohydrates","IngredientContainer","useParams","currentIngredient","UnauthRedirect","locationFrom","redirectUrl","wsConnectionClosed","wsConnectionStart","OrderItem","fullname","createdAt","date","formatRelative","locale","ru","uI","Set","uniqueIngredients","onOrderItemClick","flex","full_name","iconsWrapper","itemId","imageWrapper","ingredientImage","icon_and_price","icon_and_priceWrapper","OrderStatusBoard","ordersDone","ordersPending","total","totalToday","order_status","done","Feed","orders","feed","FeedContainer","wsOrders","status","wsConnected","FeedPageItem","img","itemWrapper","FeedPage","show","paramsId","currentOrderIngredients","Map","has","set","showStatus","FeedPageContainer","parsedId","parseInt","UserOrderItem","stateIngredients","orderIngredients","ProfileOrders","ordersArray","userOrders","reverse","wsUserConnected","ProfileOrderContainer","App","AppContainer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","ingredientsError","image_mobile","Number","orderError","orderRequest","error","socketMiddleware","wsActions","store","socket","next","action","wsInit","onOpen","onClose","onError","onMessage","wsUserInit","WebSocket","onopen","event","onerror","onclose","onmessage","parsedData","parse","wsUserActions","rootReducer","combineReducers","mapI","mapB","currentBun","clear","dragIngredient","findIndex","hoverIngredient","newIngredients","splice","removedIndex","removedId","itemsMap","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","DndProvider","backend","HTML5Backend"],"mappings":"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","file":"static/js/main.03ce08ab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"error404_wrapper__1uZau\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"constructorWrapper\":\"draggable-ingredient_constructorWrapper__32JYu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__2GQrt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"order-details_wrapper__19-Vd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"main-content-container_wrapper__2A_ZV\"};","// Постоянные для ingredients-reducer\r\nexport const SET_INGREDIENTS_SUCCESS: \"SET_INGREDIENTS_SUCCESS\" =\r\n  \"SET_INGREDIENTS_SUCCESS\";\r\nexport const SET_INGREDIENTS_REQUEST: \"SET_INGREDIENTS_REQUEST\" =\r\n  \"SET_INGREDIENTS_REQUEST\";\r\nexport const SET_INGREDIENTS_ERROR: \"SET_INGREDIENTS_ERROR\" =\r\n  \"SET_INGREDIENTS_ERROR\";\r\nexport const SET_CURRENT_INGREDIENT: \"SET_CURRENT_INGREDIENT\" =\r\n  \"SET_CURRENT_INGREDIENT\";\r\nexport const REMOVE_CURRENT_INGREDIENT: \"REMOVE_CURRENT_INGREDIENT\" =\r\n  \"REMOVE_CURRENT_INGREDIENT\";\r\nexport const SHOW_INGREDIENTS_MODAL: \"SHOW_INGREDIENTS_MODAL\" =\r\n  \"SHOW_INGREDIENTS_MODAL\";\r\nexport const HIDE_INGREDIENTS_MODAL: \"HIDE_INGREDIENTS_MODAL\" =\r\n  \"HIDE_INGREDIENTS_MODAL\";\r\n// __________________________________\r\n\r\n// Постоянные для constructor-reducer\r\nexport const ADD_BUN: \"ADD_BUN\" = \"ADD_BUN\";\r\nexport const ADD_INGREDIENT: \"ADD_INGREDIENT\" = \"ADD_INGREDIENT\";\r\nexport const MOVE_INGREDIENT: \"MOVE_INGREDIENT\" = \"MOVE_INGREDIENT\";\r\nexport const REMOVE_ITEM: \"REMOVE_ITEM\" = \"REMOVE_ITEM\";\r\nexport const ADD_TO_INGREDIENTS_MAP: \"ADD_TO_INGREDIENTS_MAP\" =\r\n  \"ADD_TO_INGREDIENTS_MAP\";\r\nexport const ADD_TO_BUN_MAP: \"ADD_TO_BUN_MAP\" = \"ADD_TO_BUN_MAP\";\r\n\r\nexport const POST_ORDER_SUCCESS: \"POST_ORDER_SUCCESS\" = \"POST_ORDER_SUCCESS\";\r\nexport const POST_ORDER_REQUEST: \"POST_ORDER_REQUEST\" = \"POST_ORDER_REQUEST\";\r\nexport const POST_ORDER_ERROR: \"POST_ORDER_ERROR\" = \"POST_ORDER_ERROR\";\r\n\r\nexport const CLEAR_CONSTRUCTOR: \"CLEAR_CONSTRUCTOR\" = \"CLEAR_CONSTRUCTOR\";\r\n// __________________________________\r\n\r\n// Modal special\r\nexport const SHOW_MODAL: \"SHOW_MODAL\" = \"SHOW_MODAL\";\r\nexport const HIDE_MODAL: \"HIDE_MODAL\" = \"HIDE_MODAL\";\r\n// __________________________________\r\n\r\n// Постоянные для user-reducer\r\nexport const REQUEST: \"REQUEST\" = \"REQUEST\";\r\nexport const REQUEST_ERROR: \"REQUEST_ERROR\" = \"REQUEST_ERROR\";\r\nexport const REQUEST_SUCCESS: \"REQUEST_SUCCESS\" = \"REQUEST_SUCCESS\";\r\n// __________________________________\r\n\r\n// Постоянные для orders-reducer\r\nexport const ORDERS_REQUEST: \"ORDERS_REQUEST\" = \"ORDERS_REQUEST\";\r\nexport const ORDERS_REQUEST_ERROR: \"ORDERS_REQUEST_ERROR\" = \"ORDERS_REQUEST_ERROR\";\r\nexport const ORDERS_REQUEST_SUCCESS: \"ORDERS_REQUEST_SUCCESS\" = \"ORDERS_REQUEST_SUCCESS\";\r\n// __________________________________\r\n\r\n// Для WS\r\nexport const WS_CONNECTION_START: 'WS_CONNECTION_START' = 'WS_CONNECTION_START';\r\nexport const WS_CONNECTION_PROFILE_ORDERS_START: 'WS_CONNECTION_PROFILE_ORDERS_START' = 'WS_CONNECTION_PROFILE_ORDERS_START';\r\n\r\nexport const WS_USER_CONNECTION_SUCCESS: 'WS_USER_CONNECTION_SUCCESS'  = 'WS_USER_CONNECTION_SUCCESS';\r\nexport const WS_CONNECTION_SUCCESS: 'WS_CONNECTION_SUCCESS'  = 'WS_CONNECTION_SUCCESS';\r\n\r\nexport const WS_USER_CONNECTION_ERROR: 'WS_USER_CONNECTION_ERROR' = 'WS_USER_CONNECTION_ERROR';\r\nexport const WS_CONNECTION_ERROR: 'WS_CONNECTION_ERROR' = 'WS_CONNECTION_ERROR';\r\n\r\nexport const WS_USER_CONNECTION_CLOSED: 'WS_USER_CONNECTION_CLOSED' = 'WS_USER_CONNECTION_CLOSED';\r\nexport const WS_CONNECTION_CLOSED: 'WS_CONNECTION_CLOSED' = 'WS_CONNECTION_CLOSED';\r\n\r\nexport const WS_GET_ORDERS: 'WS_GET_ORDERS' = 'WS_GET_ORDERS';\r\nexport const WS_GET_USER_ORDERS: 'WS_GET_USER_ORDERS' = 'WS_GET_USER_ORDERS';\r\n// __________________________________\r\n","import { TRoutes, TTab } from \"./types/types\";\r\n\r\nexport const BASE_URL: \"https://norma.nomoreparties.space/api\" =\r\n  \"https://norma.nomoreparties.space/api\";\r\n\r\nexport const WS_URL: \"wss://norma.nomoreparties.space/orders\" =\r\n  \"wss://norma.nomoreparties.space/orders\";\r\n\r\nexport const BUN: \"bun\" = \"bun\";\r\nexport const SAUCE: \"sauce\" = \"sauce\";\r\nexport const MAIN: \"main\" = \"main\";\r\n\r\nexport const TABS: Array<TTab> = [\r\n  { displayName: \"Булки\", type: BUN },\r\n  { displayName: \"Соусы\", type: SAUCE },\r\n  { displayName: \"Начинки\", type: MAIN },\r\n];\r\n\r\nexport const ROUTES: TRoutes = {\r\n  home: { title: \"Конструктор\", path: \"/\" },\r\n  orders: { title: \"Лента заказов\", path: \"/feed\" },\r\n  orderPage: { title: \"\", path: \"/feed/:id\" },\r\n  profile: { title: \"Личный кабинет\", path: \"/profile\" },\r\n  profileOrders: { title: \"\", path: \"/profile/orders\" },\r\n  profileOrderPage: { title: \"\", path: \"/profile/orders/:id\" },\r\n\r\n  ingredient: { title: \"Ингредиент\", path: \"/ingredients/:ingredientId\" },\r\n  history: { title: \"\", path: \"/profile/orders\" },\r\n\r\n  login: { title: \"Вход\", path: \"/login\" },\r\n  register: { title: \"Регистрация\", path: \"/register\" },\r\n  forgotPassword: { title: \"Восстановление пароля\", path: \"/forgot-password\" },\r\n  resetPassword: { title: \"Восстановление пароля\", path: \"/reset-password\" },\r\n};\r\n\r\n// Удалять не стал, оставил как шпоргалку\r\nexport const USER_LOGIN_URL: string =\r\n  \"https://norma.nomoreparties.space/api/auth/login\"; // <---- token\r\nexport const USER_REGISTER_URL: string =\r\n  \"https://norma.nomoreparties.space/api/auth/register\"; // <---- token\r\nexport const USER_LOGOUT_URL: string =\r\n  \"https://norma.nomoreparties.space/api/auth/logout\";\r\nexport const REFRESH_TOKEN_URL: string =\r\n  \"https://norma.nomoreparties.space/api/auth/token\";\r\nexport const USER_INFO_URL: string =\r\n  \"https://norma.nomoreparties.space/api/auth/user\"; // <-- get/patch\r\n// --------------------------------------\r\n","import { BASE_URL } from \"./constants\";\r\nimport { IIngredient } from \"./types/types\";\r\n\r\nexport const getCookie: (name: string) => string | undefined = (name) => {\r\n  let matches = document.cookie.match(\r\n    new RegExp(\r\n      \"(?:^|; )\" +\r\n        name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, \"\\\\$1\") +\r\n        \"=([^;]*)\"\r\n    )\r\n  );\r\n  return matches ? decodeURIComponent(matches[1]) : undefined;\r\n};\r\n\r\nexport const setCookie: (name: string, value: string, options?: any) => void = (\r\n  name,\r\n  value,\r\n  options = {}\r\n) => {\r\n  options = {\r\n    path: \"/\",\r\n    //значения по умолчанию\r\n    ...options,\r\n  };\r\n\r\n  if (options.expires instanceof Date) {\r\n    options.expires = options.expires.toUTCString();\r\n  }\r\n\r\n  let updatedCookie =\r\n    encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n\r\n  for (let optionKey in options) {\r\n    updatedCookie += \"; \" + optionKey;\r\n    let optionValue = options[optionKey];\r\n    if (optionValue !== true) {\r\n      updatedCookie += \"=\" + optionValue;\r\n    }\r\n  }\r\n\r\n  document.cookie = updatedCookie;\r\n};\r\n\r\nexport const deleteCookie: (name: string) => void = (name) => {\r\n  setCookie(name, \"\", {\r\n    \"max-age\": -1,\r\n  });\r\n};\r\n\r\nexport const checkResponse = (res: Response) =>\r\n  res.ok ? res.json() : res.json().then((err) => Promise.reject(err));\r\n\r\nexport const refreshToken = () => {\r\n  return fetch(`${BASE_URL}/auth/token`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json;charset=utf-8\",\r\n    },\r\n    body: JSON.stringify({ token: getCookie(\"refreshToken\") }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const retriableFetch = async (url: string, options: any = {}) => {\r\n  try {\r\n    const res = await fetch(url, options);\r\n    const result = await checkResponse(res);\r\n    return result;\r\n  } catch (err: any | unknown) {\r\n    if (err.message === \"jwt expired\") {\r\n      const refreshData = await refreshToken();\r\n      setCookie(\"refreshToken\", refreshData.refreshToken);\r\n      setCookie(\"accessToken\", refreshData.accessToken);\r\n      options.headers.authorization = refreshData.accessToken;\r\n      const res = await fetch(url, options);\r\n      return await checkResponse(res);\r\n    } else {\r\n      throw err;\r\n    }\r\n  }\r\n};\r\n\r\n// функция, которая помогает обрабатывать undefined от find\r\n\r\nexport const ensure = <T>(\r\n  argument: T | undefined | null,\r\n  message = \"This value was promised to be there\"\r\n): T => {\r\n  if (argument === undefined || argument === null) {\r\n    throw new TypeError(message);\r\n  }\r\n\r\n  return argument;\r\n};\r\n// _________________________________________________________\r\n\r\nexport const getIngredientById = (array: ReadonlyArray<IIngredient>, id: string) => array.find(i => i._id === id)\r\n","import {\r\n  SET_INGREDIENTS_SUCCESS,\r\n  SET_INGREDIENTS_REQUEST,\r\n  SET_INGREDIENTS_ERROR,\r\n  SET_CURRENT_INGREDIENT,\r\n  REMOVE_CURRENT_INGREDIENT,\r\n  SHOW_INGREDIENTS_MODAL,\r\n  HIDE_INGREDIENTS_MODAL,\r\n} from \"./action-types\";\r\nimport { checkResponse } from \"../../utils/common\";\r\nimport { BASE_URL } from \"../../utils/constants\";\r\nimport { IIngredient, TAppDispatch, TAppThunk } from \"../../utils/types/types\";\r\nimport {\r\n  THideIngredientsModal,\r\n  TSetCurrentIngredient,\r\n  TSetIngredientsError,\r\n  TSetIngredientsRequest,\r\n  TSetIngredientsSuccess,\r\n  TShowIngredientsModal,\r\n} from \"../../utils/types/ingredients-types\";\r\n\r\nexport const setIngredientsSuccess = (\r\n  ingredients: [ingredient: IIngredient]\r\n): TSetIngredientsSuccess => ({ type: SET_INGREDIENTS_SUCCESS, ingredients });\r\nexport const setIngredientsRequest = (): TSetIngredientsRequest => ({\r\n  type: SET_INGREDIENTS_REQUEST,\r\n});\r\nexport const setIngredientsError = (): TSetIngredientsError => ({\r\n  type: SET_INGREDIENTS_ERROR,\r\n});\r\nexport const setCurrentIngredient = (\r\n  ingredient: IIngredient\r\n): TSetCurrentIngredient => ({ type: SET_CURRENT_INGREDIENT, ingredient });\r\nexport const removeCurrentIngredient = () => ({\r\n  type: REMOVE_CURRENT_INGREDIENT,\r\n});\r\n\r\nexport const showIngredientsModal = (): TShowIngredientsModal => ({\r\n  type: SHOW_INGREDIENTS_MODAL,\r\n});\r\nexport const hideIngredientsModal = (): THideIngredientsModal => ({\r\n  type: HIDE_INGREDIENTS_MODAL,\r\n});\r\n\r\nexport const requestIngredients: TAppThunk = () => (dispatch: TAppDispatch) => {\r\n  dispatch(setIngredientsRequest());\r\n  fetch(`${BASE_URL}/ingredients`)\r\n    .then(checkResponse)\r\n    .then((res) => {\r\n      if (res && res.success) {\r\n        dispatch(setIngredientsSuccess(res.data));\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch(setIngredientsError());\r\n      console.log(err);\r\n    });\r\n};\r\n","import React, { FC } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './header-nav-item.module.css'\r\n\r\ninterface IHeaderNavItemProps {\r\n  path: string\r\n  text: string\r\n  exact?: boolean\r\n}\r\n\r\nconst HeaderNavItem: FC<IHeaderNavItemProps> = ({ path, exact, children, text }) => {\r\n  return (\r\n    <div className='pl-5'>\r\n      <NavLink to={path} activeClassName={s.active} className={s.inactive} exact={exact ?? false}>\r\n        {children}\r\n        <span className={`text text_type_main-default ${s.navTitle} pl-2 pr-5`}>{text}</span>\r\n      </NavLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HeaderNavItem\r\n","import { Logo, BurgerIcon, ListIcon, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport React, { FC } from 'react'\r\nimport { NavLink, useLocation } from 'react-router-dom'\r\nimport s from './app-header.module.css'\r\nimport HeaderNavItem from './app-nav-item/header-nav-item'\r\nimport { ROUTES } from '../../utils/constants'\r\n\r\nconst AppHeader: FC = () => {\r\n  const { pathname } = useLocation()\r\n\r\n  return (\r\n    <header className={s.header}>\r\n      <div className={s.wrapper}>\r\n        <nav className={s.nav}>\r\n          <HeaderNavItem text={ROUTES.home.title} path={ROUTES.home.path} exact={true}>\r\n            <BurgerIcon type={pathname === ROUTES.home.path ? 'primary' : 'secondary'} />\r\n          </HeaderNavItem>\r\n\r\n          <HeaderNavItem text={ROUTES.orders.title} path={ROUTES.orders.path} >\r\n            <ListIcon type={pathname === ROUTES.orders.path ? 'primary' : 'secondary'} />\r\n          </HeaderNavItem>\r\n        </nav>\r\n\r\n        <div className={s.logoWrapper}>\r\n          <NavLink to={ROUTES.home.path}>\r\n            <Logo />\r\n          </NavLink>\r\n        </div>\r\n\r\n        <menu>\r\n          <HeaderNavItem text={ROUTES.profile.title} path={ROUTES.profile.path} >\r\n            <ProfileIcon type={pathname === ROUTES.profile.path ? 'primary' : 'secondary'} />\r\n          </HeaderNavItem>\r\n        </menu>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default AppHeader\r\n","import { TypedUseSelectorHook, useSelector as selectorHook, useDispatch as dispatchHook } from \"react-redux\";\r\nimport { TAppDispatch, TAppThunk, TRootState } from \"./types/types\";\r\n\r\nexport const useSelector: TypedUseSelectorHook<TRootState> = selectorHook;\r\n\r\nexport const useDispatch = () => dispatchHook<TAppDispatch | TAppThunk>();\r\n","import { REQUEST_ERROR, REQUEST_SUCCESS, REQUEST } from \"./action-types\";\r\nimport { checkResponse, setCookie, getCookie } from \"../../utils/common\";\r\nimport { deleteCookie } from \"../../utils/common\";\r\nimport { retriableFetch } from \"../../utils/common\";\r\nimport { BASE_URL } from \"../../utils/constants\";\r\nimport {\r\n  TCancelResetSuccess,\r\n  TLogInSuccess,\r\n  TLogOutSuccess,\r\n  TRequest,\r\n  TRequestError,\r\n  TRequestSuccess,\r\n  TResetPasswordError,\r\n  TResetPasswordRequest,\r\n  TResetPasswordSuccess,\r\n  TSetUserData,\r\n  TSignUpSuccess,\r\n} from \"../../utils/types/user-types\";\r\nimport { TAppDispatch, TAppThunk } from \"../../utils/types/types\";\r\n\r\nexport const request = (): TRequest => ({ type: REQUEST });\r\nexport const requestError = (): TRequestError => ({ type: REQUEST_ERROR });\r\nexport const requestSuccess = (): TRequestSuccess => ({\r\n  type: REQUEST_SUCCESS,\r\n});\r\n\r\nexport const logInSuccess = (email: string, name: string): TLogInSuccess => ({\r\n  type: REQUEST_SUCCESS,\r\n  payload: { email, name, isAuth: true },\r\n});\r\n\r\nexport const signUpSuccess = (email: string, name: string): TSignUpSuccess => ({\r\n  type: REQUEST_SUCCESS,\r\n  payload: { email, name, isAuth: true },\r\n});\r\n\r\nexport const resetPasswordSuccess = (): TResetPasswordSuccess => ({\r\n  type: REQUEST_SUCCESS,\r\n  payload: { resetPassSuccess: true },\r\n});\r\nexport const resetPasswordError = (): TResetPasswordError => ({\r\n  type: REQUEST_ERROR,\r\n  payload: { resetPassSuccess: false },\r\n});\r\nexport const resetPasswordRequest = (): TResetPasswordRequest => ({\r\n  type: REQUEST,\r\n  payload: { resetPassSuccess: false },\r\n});\r\nexport const cancelResetSuccess = (): TCancelResetSuccess => ({\r\n  type: REQUEST,\r\n  payload: { resetPassSuccess: false },\r\n});\r\n\r\nexport const logOutSuccess = (): TLogOutSuccess => ({\r\n  type: REQUEST_SUCCESS,\r\n  payload: { email: \"\", password: \"\", isAuth: false },\r\n});\r\n\r\nexport const setUserData = (email: string, name: string): TSetUserData => ({\r\n  type: REQUEST_SUCCESS,\r\n  payload: { email, name, isAuth: true },\r\n});\r\n\r\nexport const resetPassword: TAppThunk = (email: string) => (\r\n  dispatch: TAppDispatch\r\n) => {\r\n  dispatch(resetPasswordRequest());\r\n  fetch(`${BASE_URL}/password-reset`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      email: email,\r\n    }),\r\n  })\r\n    .then(checkResponse)\r\n    .then((res) => {\r\n      if (res && res.success) {\r\n        dispatch(resetPasswordSuccess());\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch(resetPasswordError());\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const savePassword: TAppThunk = (newPassword: string, token: string) => (\r\n  dispatch: TAppDispatch\r\n) => {\r\n  dispatch(request());\r\n\r\n  fetch(`${BASE_URL}/password-reset/reset`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      password: newPassword,\r\n      token: token,\r\n    }),\r\n  })\r\n    .then(checkResponse)\r\n    .then((res) => {\r\n      if (res && res.success) {\r\n        dispatch(requestSuccess());\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch(requestError());\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const signUp: TAppThunk = (\r\n  email: string,\r\n  password: string,\r\n  name: string\r\n) => (dispatch: TAppDispatch) => {\r\n  dispatch(request());\r\n\r\n  fetch(`${BASE_URL}/auth/register`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      email: email,\r\n      password: password,\r\n      name: name,\r\n    }),\r\n  })\r\n    .then(checkResponse)\r\n    .then((res) => {\r\n      if (res && res.success) {\r\n        setCookie(\"refreshToken\", res.refreshToken);\r\n        let accessToken = res.accessToken.split(\"Bearer \")[1];\r\n        if (accessToken) {\r\n          setCookie(\"accessToken\", accessToken);\r\n        }\r\n        dispatch(signUpSuccess(email, name));\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch(requestError());\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const logIn: TAppThunk = (email: string, password: string) => (\r\n  dispatch: TAppDispatch\r\n) => {\r\n  dispatch(request());\r\n\r\n  fetch(`${BASE_URL}/auth/login`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      email: email,\r\n      password: password,\r\n    }),\r\n  })\r\n    .then(checkResponse)\r\n    .then((res) => {\r\n      if (res && res.success) {\r\n        setCookie(\"refreshToken\", res.refreshToken);\r\n        let accessToken = res.accessToken.split(\"Bearer \")[1];\r\n        if (accessToken) {\r\n          setCookie(\"accessToken\", accessToken);\r\n        }\r\n        dispatch(logInSuccess(res.user.email, res.user.name));\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch(requestError());\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const logOut: TAppThunk = () => (dispatch: TAppDispatch) => {\r\n  const refreshToken = getCookie(\"refreshToken\");\r\n  dispatch(request());\r\n\r\n  fetch(`${BASE_URL}/auth/logout`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ token: refreshToken }),\r\n  })\r\n    .then(checkResponse)\r\n    .then((res) => {\r\n      if (res && res.success) {\r\n        dispatch(logOutSuccess());\r\n        deleteCookie(\"refreshToken\");\r\n        deleteCookie(\"accessToken\");\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch(requestError());\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getUserData: TAppThunk = () => (dispatch: TAppDispatch) => {\r\n  dispatch(request());\r\n\r\n  retriableFetch(`${BASE_URL}/auth/user`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${getCookie(\"accessToken\")}`,\r\n    },\r\n  })\r\n    .then((res) => {\r\n      if (res && res.success) {\r\n        dispatch(setUserData(res.user.email, res.user.name));\r\n        // dispatch(wsConnectionStart())\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch(requestError());\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const refreshUserData: TAppThunk = (email: string, name: string) => (\r\n  dispatch: TAppDispatch\r\n) => {\r\n  dispatch(request());\r\n\r\n  retriableFetch(`${BASE_URL}/auth/user`, {\r\n    method: \"PATCH\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${getCookie(\"accessToken\")}`,\r\n    },\r\n    body: JSON.stringify({ email, name }),\r\n  })\r\n    .then((res) => {\r\n      if (res && res.success) {\r\n        dispatch(setUserData(res.user.email, res.user.name));\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch(requestError());\r\n      console.log(err);\r\n    });\r\n};\r\n","import s from './login.module.css'\r\nimport { Button, Input } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport React, { ChangeEvent, FC, useCallback, useRef, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch } from '../../utils/hooks'\r\nimport { logIn } from '../../services/actions/user-actions'\r\nimport { TIcon } from '../../utils/types/types'\r\n\r\nconst Login: FC = () => {\r\n  const [form, setValue] = useState({ email: '', password: '' })\r\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setValue({ ...form, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const [icon, setIcon] = useState<TIcon>('HideIcon')\r\n\r\n  const dispatch = useDispatch()\r\n  const inputPassRef = useRef<HTMLInputElement>(null!)\r\n\r\n  const passInputType = icon === 'ShowIcon' ? 'text' : 'password'\r\n\r\n  const onIconClick = () => {\r\n    setTimeout(() => inputPassRef.current.focus(), 0)\r\n    icon === 'ShowIcon' ? setIcon('HideIcon') : setIcon('ShowIcon')\r\n  }\r\n\r\n  const logInHandle = useCallback(\r\n    e => {\r\n      e.preventDefault()\r\n      dispatch(logIn(form.email, form.password))\r\n    }, [form, dispatch]\r\n  )\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <form className={s.form} onSubmit={logInHandle}>\r\n        <div className=\"text text_type_main-default mt-15\">Вход</div>\r\n\r\n        <div data-cy='login_emailInput'>\r\n          <Input\r\n            type={'email'}\r\n            placeholder={'E-mail'}\r\n            name={'email'}\r\n            size={'default'}\r\n            onChange={onChange}\r\n            value={form.email || ''}\r\n\r\n          />\r\n        </div>\r\n        <Input\r\n          type={passInputType}\r\n          placeholder={'Пароль'}\r\n          name={'password'}\r\n          size={'default'}\r\n          icon={icon}\r\n          onChange={onChange}\r\n          onIconClick={onIconClick}\r\n          ref={inputPassRef}\r\n          value={form.password || ''}\r\n        />\r\n        <Button type=\"primary\" size=\"medium\">\r\n          Войти\r\n        </Button>\r\n      </form>\r\n\r\n      <div className=\"text text_type_main-default mt-15 text_color_inactive\">\r\n        Вы - новый пользователь?\r\n        <span>\r\n          <Link to='/register'>\r\n            <Button type=\"secondary\" size=\"medium\">\r\n              Зарегистрироваться\r\n          </Button>\r\n          </Link>\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\"text text_type_main-default mt-4 text_color_inactive\">\r\n        Забыли пароль?\r\n        <span>\r\n          <Link to='/forgot-password'>\r\n            <Button type=\"secondary\" size=\"medium\">\r\n              Восстановить пароль\r\n          </Button>\r\n          </Link>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import s from './sign-up.module.css'\r\nimport { Button, Input } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport React, { ChangeEvent, FC, useCallback, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch } from '../../utils/hooks'\r\nimport { signUp } from '../../services/actions/user-actions'\r\nimport { TIcon } from '../../utils/types/types'\r\n\r\nconst SignUp: FC = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const [form, setValue] = useState({ email: ``, name: ``, password: `` })\r\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setValue({ ...form, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const [icon, setIcon] = React.useState<TIcon>('HideIcon')\r\n  const passInputType = icon === 'ShowIcon' ? 'text' : 'password'\r\n\r\n  const inputPassRef = React.useRef<HTMLInputElement>(null!)\r\n\r\n  const onIconClick = () => {\r\n    setTimeout(() => inputPassRef.current.focus(), 0)\r\n    icon === 'ShowIcon' ? setIcon('HideIcon') : setIcon('ShowIcon')\r\n  }\r\n\r\n  const signUpHandle = useCallback(\r\n    e => {\r\n      e.preventDefault()\r\n      dispatch(signUp(form.email, form.password, form.name))\r\n    }, [form, dispatch]\r\n  )\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <form className={s.form} onSubmit={signUpHandle}>\r\n        <div className=\"text text_type_main-default mt-15\">Регистрация</div>\r\n        <Input\r\n          type={'text'}\r\n          placeholder={'Имя'}\r\n          name={'name'}\r\n          size={'default'}\r\n          onChange={onChange}\r\n          value={form.name || ''}\r\n        />\r\n        <Input\r\n          type={'email'}\r\n          placeholder={'E-mail'}\r\n          name={'email'}\r\n          size={'default'}\r\n          onChange={onChange}\r\n          value={form.email || ''}\r\n        />\r\n        <Input\r\n          type={passInputType}\r\n          placeholder={'Пароль'}\r\n          name={'password'}\r\n          size={'default'}\r\n          icon={icon}\r\n          onChange={onChange}\r\n          ref={inputPassRef}\r\n          onIconClick={onIconClick}\r\n          value={form.password || ''}\r\n        />\r\n        <Button type=\"primary\" size=\"medium\">\r\n          Зарегистрироваться\r\n        </Button>\r\n      </form>\r\n\r\n      <div className=\"text text_type_main-default mt-15 text_color_inactive\">\r\n        Уже зарегистрированы?\r\n        <span>\r\n          <Link to='/login'>\r\n            <Button type=\"secondary\" size=\"medium\">\r\n              Войти\r\n          </Button>\r\n          </Link>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp\r\n","import s from './new-password.module.css'\r\nimport { Button, Input } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport React, { ChangeEvent, FC, useCallback, useState } from 'react'\r\nimport { Link, useHistory, useLocation } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from '../../utils/hooks'\r\nimport { cancelResetSuccess, resetPassword } from '../../services/actions/user-actions'\r\n\r\nconst NewPassword: FC = () => {\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n\r\n  const [emailValue, setEmailValue] = useState('')\r\n\r\n  const isResetSuccess = useSelector((state) => state.user.resetPassSuccess)\r\n\r\n  if (isResetSuccess) {\r\n    history.replace({ pathname: '/reset-password' })\r\n    dispatch(cancelResetSuccess())\r\n  }\r\n\r\n  const onEmailChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setEmailValue(e.target.value)\r\n  }\r\n\r\n  const resetRequset = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      dispatch(resetPassword(emailValue))\r\n    }, [emailValue, dispatch]\r\n  )\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <form className={s.form} onSubmit={resetRequset}>\r\n        <div className=\"text text_type_main-default mt-15\">Восстановление пароля</div>\r\n        <Input\r\n          type={'email'}\r\n          placeholder={'Укажите e-mail'}\r\n          name={'email'}\r\n          size={'default'}\r\n          onChange={onEmailChange}\r\n          value={emailValue}\r\n        />\r\n        <Link to={{ pathname: 'reset-password', state: { prevPath: location.pathname } }}>\r\n          <Button type=\"primary\" size=\"medium\">\r\n            Восстановить\r\n          </Button>\r\n        </Link>\r\n      </form>\r\n\r\n      <div className=\"text text_type_main-default mt-15 text_color_inactive\">\r\n        Вспомнили пароль?\r\n        <span>\r\n          <Link to='/login'>\r\n            <Button type=\"secondary\" size=\"medium\">\r\n              Войти\r\n            </Button>\r\n          </Link>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NewPassword\r\n","import s from './reset-password.module.css'\r\nimport { Button, Input } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport React, { ChangeEvent, FC, useCallback, useRef, useState } from 'react'\r\nimport { useDispatch } from '../../utils/hooks'\r\nimport { Link, useHistory, useLocation } from 'react-router-dom'\r\nimport { savePassword } from '../../services/actions/user-actions'\r\nimport { TIcon } from '../../utils/types/types'\r\n\r\nconst ResetPassword: FC = () => {\r\n  // redirect\r\n  const history = useHistory()\r\n  const location = useLocation<any>()\r\n  const background = location.state && location.state.prevPath;\r\n\r\n  if (background !== '/forgot-password') {\r\n    history.goBack()\r\n  }\r\n  // --------\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const [icon, setIcon] = useState<TIcon>('HideIcon')\r\n  const passInputType = icon === 'ShowIcon' ? 'text' : 'password'\r\n  const inputPassRef = useRef<HTMLInputElement>(null!)\r\n\r\n  const [form, setValue] = useState({ password: '', code: '' })\r\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setValue({ ...form, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const onIconClick = () => {\r\n    setTimeout(() => inputPassRef.current.focus(), 0)\r\n    icon === 'ShowIcon' ? setIcon('HideIcon') : setIcon('ShowIcon')\r\n  }\r\n\r\n  const passSave = useCallback(\r\n    (e) => {\r\n      e.preventDefault()\r\n      dispatch(savePassword(form.password, form.code))\r\n    }, [dispatch, form]\r\n  )\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <form className={s.form} onSubmit={passSave}>\r\n        <div className=\"text text_type_main-default mt-15\">Восстановить пароль</div>\r\n\r\n        <Input\r\n          type={passInputType}\r\n          placeholder={'Введите новый пароль'}\r\n          name={'password'}\r\n          size={'default'}\r\n          icon={icon}\r\n          ref={inputPassRef}\r\n          onIconClick={onIconClick}\r\n          value={form.password || ''}\r\n          onChange={onChange}\r\n        />\r\n\r\n        <Input\r\n          type={'text'}\r\n          placeholder={'Введите код из письма'}\r\n          name={'name'}\r\n          size={'default'}\r\n          value={form.code || ''}\r\n          onChange={onChange}\r\n        />\r\n        <Button type=\"primary\" size=\"medium\">\r\n          Сохранить\r\n        </Button>\r\n      </form>\r\n\r\n      <div className=\"text text_type_main-default mt-15 text_color_inactive\">\r\n        Вспомнили пароль?\r\n        <span>\r\n          <Link to='/login'>\r\n            <Button type=\"secondary\" size=\"medium\">\r\n              Войти\r\n          </Button>\r\n          </Link>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ResetPassword\r\n","import s from './profile.module.css'\r\nimport { Button, Input } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport React, { ChangeEvent, FC, FormEvent, SyntheticEvent, useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from '../../utils/hooks'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { getUserData, logOut, refreshUserData } from '../../services/actions/user-actions'\r\n\r\nconst Profile: FC = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const isLoaded = useSelector((state) => state.user.request)\r\n\r\n  const userName = useSelector((state) => state.user.name)\r\n  const userEmail = useSelector((state) => state.user.email)\r\n  const userPass = useSelector((state) => state.user.password)\r\n\r\n  const [form, setValue] = useState({ email: `${userEmail}`, name: `${userName}`, password: `${userPass}` })\r\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setValue({ ...form, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const [isEdit, setIsEdit] = useState(false)\r\n  const editIconHandler = () => setIsEdit(!isEdit)\r\n  const onFocusHandler = () => setIsEdit(true)\r\n\r\n  const logOutHandle = () => {\r\n    dispatch(logOut())\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserData())\r\n  }, [dispatch])\r\n\r\n  const onSubmitHandle = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n\r\n    dispatch(refreshUserData(form.email, form.name))\r\n\r\n    setIsEdit(false)\r\n  }\r\n\r\n  const onCancelHandle = (e: SyntheticEvent<Element, Event>) => {\r\n    e.preventDefault()\r\n    setValue({ email: `${userEmail}`, name: `${userName}`, password: `${userPass}` })\r\n    setIsEdit(false)\r\n  }\r\n\r\n  const [path, setPath] = useState('/profile')\r\n  const linkStyle = 'text text_type_main-medium text_color_inactive'\r\n  return (\r\n    <div className={`${s.wrapper} mt-15`}>\r\n      <nav className={`${s.nav} mr-30`}>\r\n        <div className={`${s.list} mb-20`}>\r\n          <NavLink\r\n            to='/profile'\r\n            className={`${s.listItem} ${linkStyle}`}\r\n            activeClassName={path === '/profile' ? `${s.active}` : ''}\r\n            onClick={() => setPath('/profile')}\r\n          >\r\n            Профиль\r\n          </NavLink>\r\n\r\n          <NavLink\r\n            to='/profile/orders'\r\n            className={`${s.listItem} ${linkStyle}`}\r\n            activeClassName={path === '/profile/orders' ? `${s.active}` : ''}\r\n            onClick={() => setPath('/profile/orders')}\r\n          >\r\n            История заказов\r\n          </NavLink>\r\n\r\n          <div className={`${s.listItem} ${linkStyle}`} onClick={logOutHandle}>Выход</div>\r\n        </div>\r\n        <p className=\"text text_type_main-default text_color_inactive\">\r\n          В этом разделе Вы можете изменить свои персональные данные\r\n        </p>\r\n      </nav>\r\n\r\n      {isLoaded\r\n        ? <div>Loading...</div>\r\n        :\r\n        <form className={s.form} onSubmit={onSubmitHandle}>\r\n          <Input\r\n            type={'text'}\r\n            placeholder={'Имя'}\r\n            name={'name'}\r\n            size={'default'}\r\n            icon={'EditIcon'}\r\n            onIconClick={editIconHandler}\r\n            onFocus={onFocusHandler}\r\n            onChange={onChange}\r\n            value={form.name || ''}\r\n          />\r\n          <Input\r\n            type={'email'}\r\n            placeholder={'E-mail'}\r\n            name={'email'}\r\n            size={'default'}\r\n            icon={'EditIcon'}\r\n            onIconClick={editIconHandler}\r\n            onFocus={onFocusHandler}\r\n            onChange={onChange}\r\n            value={form.email || ''}\r\n          />\r\n          <Input\r\n            type={'password'}\r\n            placeholder={'Пароль'}\r\n            name={'password'}\r\n            size={'default'}\r\n            icon={'EditIcon'}\r\n            onIconClick={editIconHandler}\r\n            onFocus={onFocusHandler}\r\n            onChange={onChange}\r\n            value={form.password || ''}\r\n          />\r\n\r\n          {\r\n            isEdit &&\r\n            <div>\r\n              <Button type=\"secondary\" size=\"medium\" onClick={onCancelHandle}>Отмена</Button>\r\n\r\n              <Button type=\"primary\" size=\"medium\">Сохранить</Button>\r\n            </div>\r\n          }\r\n        </form>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import React, { FC } from 'react'\r\nimport s from './error404.module.css'\r\n\r\nconst Error404: FC = () => {\r\n  return (\r\n    <div className={`${s.wrapper} text text_type_main-medium text_color_inactive`}>\r\n      (ಠ_ಠ) Что-то пошло не так! ¯\\_(ツ)_/¯\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Error404 \r\n","import React, { FC, useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from '../../utils/hooks'\r\nimport { Redirect, Route, useLocation } from 'react-router-dom'\r\nimport { getUserData } from '../../services/actions/user-actions'\r\nimport { ROUTES } from '../../utils/constants'\r\n\r\ninterface IProtectedRoute {\r\n  path: string\r\n  exact?: boolean\r\n}\r\n\r\nconst ProtectedRoute: FC<IProtectedRoute> = ({ children, ...rest }) => {\r\n  const isAuth = useSelector((state) => state.user.isAuth)\r\n  const [isLoaded, setIsLoaded] = useState(false)\r\n  const location = useLocation()\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserData())\r\n    setIsLoaded(true)\r\n  }, [dispatch])\r\n\r\n  if (!isLoaded) return null\r\n\r\n  return (\r\n    <Route {...rest} render={() =>\r\n      isAuth ?\r\n        (children) :\r\n        (\r\n          <Redirect\r\n            to={{ pathname: ROUTES.login.path, state: { from: location } }}\r\n          />\r\n        )\r\n    } />\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute\r\n","import {\r\n  ADD_BUN,\r\n  ADD_INGREDIENT,\r\n  MOVE_INGREDIENT,\r\n  REMOVE_ITEM,\r\n  ADD_TO_INGREDIENTS_MAP,\r\n  ADD_TO_BUN_MAP,\r\n  POST_ORDER_SUCCESS,\r\n  POST_ORDER_REQUEST,\r\n  POST_ORDER_ERROR,\r\n  CLEAR_CONSTRUCTOR,\r\n  SHOW_MODAL,\r\n  HIDE_MODAL,\r\n} from \"./action-types\";\r\nimport { checkResponse, getCookie } from \"../../utils/common\";\r\nimport { BASE_URL } from \"../../utils/constants\";\r\nimport {\r\n  TAddBun,\r\n  TAddIngredient,\r\n  TAddToBunMap,\r\n  TAddToIngredientsMap,\r\n  TClearConstructor,\r\n  THideOrderModal,\r\n  TMoveIngredient,\r\n  TPostOrderError,\r\n  TPostOrderRequest,\r\n  TPostOrderSuccess,\r\n  TRemoveItem,\r\n  TShowOrderModal,\r\n} from \"../../utils/types/constructor-types\";\r\nimport { IItem, TAppDispatch, TAppThunk } from \"../../utils/types/types\";\r\n\r\nexport const showOrderModal = (): TShowOrderModal => ({ type: SHOW_MODAL });\r\nexport const hideOrderModal = (): THideOrderModal => ({ type: HIDE_MODAL });\r\n\r\nexport const addBun = (item: IItem): TAddBun => ({ type: ADD_BUN, item });\r\nexport const addIngredient = (item: IItem): TAddIngredient => ({\r\n  type: ADD_INGREDIENT,\r\n  item,\r\n});\r\nexport const addToIngredientsMap = (id: string): TAddToIngredientsMap => ({\r\n  type: ADD_TO_INGREDIENTS_MAP,\r\n  id,\r\n});\r\nexport const addToBunMap = (id: string): TAddToBunMap => ({\r\n  type: ADD_TO_BUN_MAP,\r\n  id,\r\n});\r\n\r\nexport const moveIngredient = (\r\n  dragIndex: number,\r\n  hoverIndex: number\r\n): TMoveIngredient => ({\r\n  type: MOVE_INGREDIENT,\r\n  dragIndex,\r\n  hoverIndex,\r\n});\r\nexport const removeItem = (id: number): TRemoveItem => ({\r\n  type: REMOVE_ITEM,\r\n  id,\r\n});\r\nexport const clearConstructor = (): TClearConstructor => ({\r\n  type: CLEAR_CONSTRUCTOR,\r\n});\r\n\r\nexport const postOrderSuccess = (number: number): TPostOrderSuccess => ({\r\n  type: POST_ORDER_SUCCESS,\r\n  number,\r\n});\r\nexport const postOrderRequest = (): TPostOrderRequest => ({\r\n  type: POST_ORDER_REQUEST,\r\n});\r\nexport const postOrderError = (): TPostOrderError => ({\r\n  type: POST_ORDER_ERROR,\r\n});\r\n\r\nexport const addToConstructor: TAppThunk = (item: IItem) => (dispatch: TAppDispatch) => {\r\n  if (item.type === \"bun\") {\r\n    dispatch(addToBunMap(item._id));\r\n    dispatch(addBun(item));\r\n  } else {\r\n    dispatch(addToIngredientsMap(item._id));\r\n    dispatch(addIngredient(item));\r\n  }\r\n};\r\n\r\nexport const postOrder: TAppThunk = (data: string[]) => (dispatch: TAppDispatch) => {\r\n  dispatch(postOrderRequest());\r\n  fetch(`${BASE_URL}/orders`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${getCookie(\"accessToken\")}`,\r\n    },\r\n    body: JSON.stringify({\r\n      ingredients: data,\r\n    }),\r\n  })\r\n    .then(checkResponse)\r\n    .then((res) => {\r\n      if (res && res.success) {\r\n        dispatch(postOrderSuccess(res.order.number));\r\n        dispatch(clearConstructor());\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      dispatch(postOrderError());\r\n      console.log(err);\r\n    });\r\n};\r\n","import { Counter, CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\"\r\nimport React, { FC } from \"react\"\r\nimport s from './burger-ingredient.module.css'\r\nimport { useDrag } from \"react-dnd\";\r\nimport { addToConstructor } from \"../../../services/actions/constructor-actions\";\r\nimport { useDispatch, useSelector } from '../../../utils/hooks'\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { IIngredient } from \"../../../utils/types/types\";\r\n\r\ninterface IBurgerIngredientProps {\r\n  ingredient: IIngredient\r\n}\r\n\r\nconst BurgerIngredient: FC<IBurgerIngredientProps> = ({ ingredient }) => {\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n\r\n  const ingredientId = ingredient._id\r\n\r\n  const bunAmount = useSelector((state) => state.burgerConstructor.bunMap?.get(ingredientId))\r\n  const ingredientAmount = useSelector((state) => state.burgerConstructor.ingredientsMap?.get(ingredientId))\r\n\r\n  const amount = ingredient.type === 'bun'\r\n    ? bunAmount\r\n    : ingredientAmount\r\n\r\n  const generateUniqueId = () => {\r\n    return (Date.now() + Math.random())\r\n  }\r\n\r\n  const [, drag] = useDrag(() => ({\r\n    type: 'ingredient',\r\n    item: { ingredient },\r\n    end: (item, monitor) => {\r\n      const dropResult = monitor.getDropResult();\r\n      if (item && dropResult) {\r\n        const generatedId = generateUniqueId()\r\n        dispatch(addToConstructor({ ...ingredient, uniqueId: generatedId }));\r\n      }\r\n    },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    })\r\n  }))\r\n\r\n  return (\r\n    <Link\r\n      key={ingredientId}\r\n      to={{\r\n        pathname: `/ingredients/${ingredientId}`,\r\n        state: { background: location }\r\n      }}\r\n      className={s.link}\r\n      data-cy='ingredientContainer'\r\n    >\r\n      <div className={s.wrapper} ref={drag}>\r\n        <div className='mr-4 ml-4'>\r\n          <div className={s.counter}>\r\n            <img src={ingredient.image} alt=\"Фото ингредиента\" />\r\n            {\r\n              !!amount && <Counter count={ingredient.type === 'bun' ? 2 : amount} size=\"default\" />\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div className={`${s.price} text text_type_main-medium mt-1 mb-1`}>\r\n          <span className='mr-2'>\r\n            {ingredient.price}\r\n          </span>\r\n          <CurrencyIcon type=\"primary\" />\r\n        </div>\r\n\r\n        <div className={`${s.name} text text_type_main-default`}>\r\n          {ingredient.name}\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default BurgerIngredient\r\n","import { Tab } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport React, { FC, useRef, useState } from 'react'\r\nimport s from './burger-ingredients.module.css'\r\nimport { useSelector } from '../../utils/hooks'\r\nimport BurgerIngredient from './burger-ingredient/burger-ingredient';\r\nimport { BUN, MAIN, SAUCE, TABS } from '../../utils/constants';\r\nimport { IIngredient } from '../../utils/types/types';\r\n\r\ninterface IBurgerIngredientsProps {\r\n  handleClick: (id: string) => void\r\n}\r\n\r\nconst BurgerIngredients: FC<IBurgerIngredientsProps> = ({ handleClick }) => {\r\n  const data = useSelector((state) => state.ingredients.ingredients)\r\n  const ingredientsRequest = useSelector((state) => state.ingredients.ingredientsRequest)\r\n\r\n  const [current, setCurrent] = useState<typeof BUN | typeof SAUCE | typeof MAIN>(BUN)\r\n  const bunRef = useRef<HTMLInputElement>(null!)\r\n  const sauceRef = useRef<HTMLInputElement>(null!)\r\n  const mainRef = useRef<HTMLInputElement>(null!)\r\n  const tabRef = useRef<HTMLInputElement>(null!)\r\n\r\n\r\n  const checkActualTab = () => {\r\n    const tabsTop = tabRef.current.getBoundingClientRect().top;\r\n    const bunsDistance = Math.abs(tabsTop - bunRef.current.getBoundingClientRect().top);\r\n    const saucesDistance = Math.abs(tabsTop - sauceRef.current.getBoundingClientRect().top);\r\n    const mainsDistance = Math.abs(tabsTop - mainRef.current.getBoundingClientRect().top);\r\n\r\n    const maxValue = Math.min(bunsDistance, saucesDistance, mainsDistance);\r\n\r\n    if (maxValue === bunsDistance) {\r\n      setCurrent(BUN);\r\n    } else if (maxValue === saucesDistance) {\r\n      setCurrent(SAUCE);\r\n    } else {\r\n      setCurrent(MAIN);\r\n    }\r\n  }\r\n\r\n  const onTabClick = (e: any) => {\r\n    setCurrent(e)\r\n    e === BUN\r\n      ? bunRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n      : e === MAIN\r\n        ? mainRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n        : sauceRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n  }\r\n\r\n  return (\r\n    <article className={s.wrapper}>\r\n      <p className=\"text text_type_main-large mt-10\">\r\n        Соберите бургер\r\n      </p>\r\n\r\n      <div style={{ display: 'flex' }} className='mt-5' ref={tabRef}>\r\n        {\r\n          TABS.map((tab: any) => (\r\n            <Tab value={tab.type} key={tab.type} active={current === tab.type} onClick={onTabClick}>\r\n              {tab.displayName}\r\n            </Tab>\r\n          ))\r\n        }\r\n      </div>\r\n\r\n      {\r\n        ingredientsRequest\r\n          ? <div>Loading</div>\r\n          : <section className={`${s.scrollable} mt-10`} id='scroll' onScroll={checkActualTab}>\r\n            <figure className={s.figure}>\r\n              <p className=\"text text_type_main-medium\" id='bun' ref={bunRef}>\r\n                Булки\r\n              </p>\r\n              {data.filter((i: IIngredient) => i.type === 'bun').map((i: IIngredient) => (\r\n                <div className={`${s.ingredientContainer} mt-6 ml-4 mb-10`} onClick={() => { handleClick(i._id) }} key={i._id} id={i._id}>\r\n                  <BurgerIngredient ingredient={i} />\r\n                </div>\r\n              )\r\n              )}\r\n            </figure>\r\n\r\n            <figure className={s.figure}>\r\n              <p className=\"text text_type_main-medium\" id='sauce' ref={sauceRef}>\r\n                Соусы\r\n              </p>\r\n              {data.filter((i: IIngredient) => i.type === 'sauce').map((i: IIngredient) => (\r\n                <div className={`${s.ingredientContainer} mt-6 ml-4 mb-10`} onClick={() => { handleClick(i._id) }} key={i._id} id={i._id} >\r\n                  <BurgerIngredient ingredient={i} />\r\n                </div>\r\n              )\r\n              )}\r\n            </figure>\r\n\r\n            <figure className={s.figure}>\r\n              <p className=\"text text_type_main-medium\" id='main' ref={mainRef}>\r\n                Начинки\r\n              </p>\r\n              {data.filter((i: IIngredient) => i.type === 'main').map((i: IIngredient) => (\r\n                <div className={`${s.ingredientContainer} mt-6 ml-4 mb-10`} onClick={() => { handleClick(i._id) }} key={i._id} id={i._id}>\r\n                  <BurgerIngredient ingredient={i} />\r\n                </div>\r\n              )\r\n              )}\r\n            </figure>\r\n          </section>\r\n      }\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default BurgerIngredients\r\n","import s from './draggable-ingredient.module.css'\r\nimport { ConstructorElement, DragIcon } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport { useDrag, useDrop } from 'react-dnd';\r\nimport React, { FC, useRef } from 'react';\r\nimport { useDispatch } from '../../../utils/hooks'\r\nimport { moveIngredient, removeItem } from '../../../services/actions/constructor-actions'\r\nimport { IItem } from '../../../utils/types/types';\r\n\r\ninterface IDraggableIngredientProps {\r\n  name: string\r\n  price: number\r\n  image: string\r\n  uniqueId: number\r\n}\r\n\r\nconst DraggableIngredient: FC<IDraggableIngredientProps> = ({ name, price, image, uniqueId }) => {\r\n  const ref = useRef<HTMLDivElement | null>(null)\r\n  const dispatch = useDispatch()\r\n\r\n  const [, drop] = useDrop({\r\n    accept: 'constructor',\r\n    hover(item: IItem, monitor: any) {\r\n      if (!ref.current) {\r\n        return\r\n      }\r\n      const dragIndex = item.uniqueId\r\n      const hoverIndex = uniqueId\r\n      if (dragIndex === hoverIndex) {\r\n        return\r\n      }\r\n      const hoverBoundingRect = ref.current?.getBoundingClientRect()\r\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\r\n      const clientOffset = monitor.getClientOffset()\r\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top\r\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n        return\r\n      }\r\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n        return\r\n      }\r\n      dispatch(moveIngredient(dragIndex, hoverIndex))\r\n      item.index = hoverIndex\r\n    }\r\n  })\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    type: 'constructor',\r\n    item: () => {\r\n      return { uniqueId }\r\n    },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    })\r\n  })\r\n\r\n  drop(drag(ref))\r\n  const opacity = isDragging ? 0 : 1\r\n\r\n  return (\r\n    <div className={s.constructorWrapper} ref={ref} style={{ opacity }} key={uniqueId}>\r\n      <DragIcon type='primary' />\r\n      <ConstructorElement\r\n        text={name}\r\n        price={price}\r\n        thumbnail={image}\r\n        handleClose={() => {\r\n          dispatch(removeItem(uniqueId))\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DraggableIngredient\r\n","import { Button, ConstructorElement, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport s from './burger-constructor.module.css'\r\nimport { useSelector } from '../../utils/hooks'\r\nimport { useDrop } from 'react-dnd';\r\nimport DraggableIngredient from './draggable-ingredient/draggable-ingredient'\r\nimport { FC } from 'react';\r\nimport React from 'react';\r\nimport { IIngredient, IItem } from '../../utils/types/types';\r\n\r\ninterface IBurgerConstructor {\r\n  handleRequest: (data: string[]) => void\r\n}\r\n\r\nconst BurgerConstructor: FC<IBurgerConstructor> = ({ handleRequest }) => {\r\n  const bun = useSelector((state) => state.burgerConstructor?.bun)\r\n  const ingredients = useSelector((state) => state.burgerConstructor?.constructorIngredients)\r\n\r\n  const isBun = bun.price === 0 ? false : true\r\n  const isIngredients = !Object.keys(ingredients).length === false\r\n\r\n  const [, drop] = useDrop(() => ({\r\n    accept: 'ingredient',\r\n  }))\r\n\r\n  const requestData = [\r\n    bun._id,\r\n    ...ingredients.map((i: IIngredient) => i._id)\r\n  ]\r\n\r\n  return (\r\n    <article className={`${s.wrapper} mt-25`} ref={drop} data-cy='dropTarget'>\r\n\r\n      {\r\n        isBun || isIngredients\r\n          ?\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n            {\r\n              isBun &&\r\n              <div className={s.bun}>\r\n                <ConstructorElement\r\n                  type=\"top\"\r\n                  isLocked={true}\r\n                  text={`${bun.name} (верх)`}\r\n                  price={bun.price}\r\n                  thumbnail={bun.image}\r\n                />\r\n              </div>\r\n            }\r\n\r\n\r\n            <section className={`${s.scrollable}`}>\r\n              {\r\n                isIngredients\r\n                  ? ingredients?.map((i: IItem) => (\r\n                    <DraggableIngredient key={i.uniqueId} uniqueId={i.uniqueId} name={i.name} price={i.price} image={i.image} />\r\n                  ))\r\n                  // Заменить нижнюю заглушку\r\n                  : <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>Добавьте начинку</div>\r\n              }\r\n            </section>\r\n\r\n            {\r\n              isBun &&\r\n              <div className={s.bun}>\r\n                <ConstructorElement\r\n                  type=\"bottom\"\r\n                  isLocked={true}\r\n                  text={`${bun.name} (низ)`}\r\n                  price={bun.price}\r\n                  thumbnail={bun.image}\r\n                />\r\n              </div>\r\n            }\r\n          </div>\r\n          // Заменить нижнюю заглушку\r\n          : <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>Перетащите сюда булку</div>\r\n      }\r\n\r\n      {\r\n        (isBun && isIngredients) &&\r\n        <footer className={`${s.footer} mt-10`}>\r\n          <span className={`${s.summary} mr-10 text text_type_main-large`}>\r\n            {ingredients.reduce((sum: number, current: IIngredient) => sum + current.price, 0) + bun.price}\r\n            <CurrencyIcon type=\"primary\" />\r\n          </span>\r\n          <Button type=\"primary\" size=\"large\" onClick={() => { handleRequest(requestData) }}>\r\n            Оформить заказ\r\n          </Button>\r\n        </footer>\r\n      }\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default BurgerConstructor\r\n","import React, { FC } from 'react';\r\nimport s from './modal-overlay.module.css'\r\n\r\ninterface IModalOverlayProps {\r\n  handleOverlayClick: () => void\r\n}\r\n\r\nconst ModalOverlay: FC<IModalOverlayProps> = ({ children, handleOverlayClick }) => {\r\n\r\n  return (\r\n    <div className={s.overlay} onClick={e => (e.currentTarget === e.target) && handleOverlayClick()}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ModalOverlay\r\n","import React, { FC, useEffect } from 'react'\r\nimport s from './modal.module.css'\r\nimport ModalOverlay from '../modal-overlay/modal-overlay'\r\nimport { createPortal } from 'react-dom';\r\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport { useDispatch } from '../../utils/hooks'\r\nimport { hideIngredientsModal, removeCurrentIngredient } from '../../services/actions/ingredients-actions';\r\nimport { hideOrderModal } from '../../services/actions/constructor-actions';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\ninterface IModalProps {\r\n  headerTitle?: number | string | null;\r\n  from: string\r\n}\r\n\r\nconst Modal: FC<IModalProps> = ({ children, headerTitle, from }) => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', closeOnESC)\r\n    return () => document.removeEventListener('keydown', closeOnESC)\r\n  })\r\n\r\n  const closeOnESC: (e: KeyboardEvent) => void = e => {\r\n    if (e.key === 'Escape') {\r\n      onModalClose()\r\n    }\r\n  }\r\n\r\n  const onModalClose: () => void = () => {\r\n    dispatch(hideOrderModal())\r\n    dispatch(hideIngredientsModal())\r\n    dispatch(removeCurrentIngredient())\r\n\r\n    history.replace({ pathname: from })\r\n  }\r\n\r\n  return createPortal(\r\n    <ModalOverlay handleOverlayClick={onModalClose}>\r\n      <div className={s.wrapper}>\r\n        <div className={s.header}>\r\n          {\r\n            typeof headerTitle === 'string'\r\n              ? <p className=\"text text_type_main-large\">\r\n                {headerTitle}\r\n              </p>\r\n              : <p className=\"text text_type_digits-default\">\r\n                {headerTitle}\r\n              </p>\r\n          }\r\n          <button className={s.button} onClick={onModalClose} data-cy='closeModal'>\r\n            <CloseIcon type=\"primary\" />\r\n          </button>\r\n        </div>\r\n        {children}\r\n      </div>\r\n    </ModalOverlay>,\r\n    document.getElementById('modal') as HTMLElement\r\n  )\r\n}\r\n\r\nexport default Modal\r\n","export default __webpack_public_path__ + \"static/media/orderCheck.72dc0038.svg\";","import React, { FC } from 'react'\r\nimport s from './order-details.module.css'\r\nimport orderCheck from '../../images/orderCheck.svg'\r\n\r\ninterface IOrderProps {\r\n  orderId: number\r\n}\r\n\r\nconst OrderDetails: FC<IOrderProps> = ({ orderId }) => {\r\n  return (\r\n    <div className={s.wrapper} >\r\n      <h2 className=\"text text_type_digits-large\" data-cy='orderNumber'> {orderId === 0 ? null : orderId}  </h2>\r\n\r\n      <p className=\"text text_type_main-medium mt-8 mb-15\">Идентификатор заказа</p>\r\n      <img src={orderCheck} alt=\"check\" />\r\n      <p className=\"text text_type_main-default mt-15 mb-8\">Ваш заказ начали готовить</p>\r\n      <p className='text text_type_main-default text_color_inactive mb-30'>Дождитесь готовности на орбительной станции</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OrderDetails\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from '../../utils/hooks'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { postOrder, showOrderModal } from '../../services/actions/constructor-actions'\r\nimport BurgerIngredients from \"../bureger-ingredients/burger-ingredients\"\r\nimport BurgerConstructor from \"../burger-constructor/burger-constructor\"\r\nimport Modal from '../modal/modal'\r\nimport OrderDetails from '../order-details/order-details'\r\nimport s from './main-content-container.module.css'\r\n\r\nconst MainContentContainer = () => {\r\n  const { isAuth } = useSelector((state) => state.user)\r\n  const orderId = useSelector((state) => state.burgerConstructor.order)\r\n  const isOrderModal = useSelector((state) => state.burgerConstructor.isModal)\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n\r\n  const handleOrderRequest = (data: string[]) => {\r\n    if (!isAuth) {\r\n      history.replace({ pathname: '/login', state: { from: location } })\r\n    } else {\r\n      dispatch(postOrder(data))\r\n      dispatch(showOrderModal())\r\n    }\r\n  }\r\n\r\n  const onIngredientClick = (id: string) => {\r\n    history.replace({pathname: `/ingredients/${id}`})\r\n  }\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <BurgerIngredients handleClick={onIngredientClick} />\r\n      <BurgerConstructor handleRequest={handleOrderRequest} />\r\n      {\r\n        !!orderId && isOrderModal\r\n          && <Modal from='/'>\r\n            <OrderDetails orderId={orderId} />\r\n          </Modal>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MainContentContainer\r\n","import React, { FC } from 'react'\r\nimport { IIngredient } from '../../utils/types/types'\r\nimport s from './ingredient-details.module.css'\r\n\r\nconst IngredientDetails: FC<{ data: IIngredient }> = ({ data }) => {\r\n\r\n  if (!data) return null\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <div>\r\n        <img src={data.image_large} alt=\"Ingredient\" />\r\n      </div>\r\n      <p className=\"text text_type_main-medium mt-4\">{data.name}</p>\r\n\r\n      <div className={`${s.detailsContainer} mt-4 mb-15`}>\r\n        <div className={s.details}>\r\n          <p className=\"text text_type_main-default text_color_inactive\">Калории, ккал</p>\r\n          <p className=\"text text_type_digits-default text_color_inactive\" data-cy='modal-ingredientCalories'>{data.calories}</p>\r\n        </div>\r\n\r\n        <div className={s.details}>\r\n          <p className=\"text text_type_main-default text_color_inactive\">Белки, г</p>\r\n          <p className=\"text text_type_digits-default text_color_inactive\">{data.proteins}</p>\r\n        </div>\r\n\r\n        <div className={s.details}>\r\n          <p className=\"text text_type_main-default text_color_inactive\">Жиры, г</p>\r\n          <p className=\"text text_type_digits-default text_color_inactive\">{data.fat}</p>\r\n        </div>\r\n\r\n        <div className={s.details}>\r\n          <p className=\"text text_type_main-default text_color_inactive\">Углеводы, г</p>\r\n          <p className=\"text text_type_digits-default text_color_inactive\">{data.carbohydrates}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default IngredientDetails\r\n","import React, { FC, useEffect } from 'react'\r\nimport { useDispatch } from '../../utils/hooks'\r\nimport { useLocation, useParams } from 'react-router-dom';\r\nimport IngredientDetails from '../../components/ingredient-details/ingredient-details';\r\nimport Modal from '../../components/modal/modal';\r\nimport { setCurrentIngredient } from '../../services/actions/ingredients-actions';\r\nimport { IIngredient } from '../../utils/types/types';\r\n\r\ninterface IIngredientContainerProps {\r\n  ingredients: ReadonlyArray<IIngredient>\r\n}\r\n\r\nconst IngredientContainer: FC<IIngredientContainerProps> = ({ ingredients }) => {\r\n  const { ingredientId } = useParams<{ ingredientId: string }>()\r\n  const currentIngredient = ingredients.filter((i: IIngredient) => i._id === ingredientId)[0]\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n\r\n  useEffect(() => {\r\n    if (!currentIngredient) dispatch(setCurrentIngredient(currentIngredient))\r\n  }, [dispatch, currentIngredient])\r\n\r\n  return (\r\n    <>\r\n      {\r\n        !location.key\r\n          ? <IngredientDetails data={currentIngredient} />\r\n          : <Modal headerTitle='Детали ингредиента' from='/'>\r\n            <IngredientDetails data={currentIngredient} />\r\n          </Modal>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default IngredientContainer\r\n","import React, { FC, useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from '../../utils/hooks'\r\nimport { Redirect, Route, useLocation } from 'react-router-dom'\r\nimport { getUserData } from '../../services/actions/user-actions'\r\nimport { ROUTES } from '../../utils/constants'\r\n\r\ninterface IUnauthRoute {\r\n  path: string\r\n  exact?: boolean\r\n}\r\n\r\nconst UnauthRedirect: FC<IUnauthRoute> = ({ children, ...rest }) => {\r\n  const isAuth = useSelector((state) => state.user.isAuth)\r\n  const [isLoaded, setIsLoaded] = useState(false)\r\n  const dispatch = useDispatch()\r\n  const location = useLocation<any>()\r\n  const locationFrom = location.state?.from;\r\n  const redirectUrl = locationFrom ? locationFrom.pathname : ROUTES.home.path;\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserData())\r\n    setIsLoaded(true)\r\n  }, [dispatch])\r\n\r\n  return (\r\n    isLoaded\r\n      ? <Route {...rest} render={() =>\r\n        !isAuth ?\r\n          (children) :\r\n          (\r\n            <Redirect to={{ pathname: redirectUrl }}\r\n            />\r\n          )\r\n      } />\r\n      : null\r\n  )\r\n}\r\n\r\nexport default UnauthRedirect\r\n","import {\r\n  IWsConnectionClosed,\r\n  IWsConnectionError,\r\n  IWsConnectionStart,\r\n  IWsConnectionSuccess,\r\n  IWsConnectionUserClosed,\r\n  IWsGetOrders,\r\n  IWsGetUserOrders,\r\n  IWsProfileConnectionStart,\r\n  TWSPayload,\r\n} from \"../../utils/types/ws-types\";\r\nimport {\r\n  WS_CONNECTION_CLOSED,\r\n  WS_CONNECTION_ERROR,\r\n  WS_CONNECTION_PROFILE_ORDERS_START,\r\n  WS_CONNECTION_START,\r\n  WS_CONNECTION_SUCCESS,\r\n  WS_GET_ORDERS,\r\n  WS_GET_USER_ORDERS,\r\n  WS_USER_CONNECTION_CLOSED,\r\n} from \"./action-types\";\r\n\r\nexport const wsConnectionSuccess = (): IWsConnectionSuccess => ({\r\n  type: WS_CONNECTION_SUCCESS\r\n});\r\n\r\nexport const wsConnectionError = (): IWsConnectionError => ({\r\n  type: WS_CONNECTION_ERROR\r\n})\r\n\r\nexport const wsConnectionClosed = (): IWsConnectionClosed  => ({\r\n  type: WS_CONNECTION_CLOSED\r\n})\r\n\r\nexport const wsGetOrders = (payload: TWSPayload): IWsGetOrders => ({\r\n  type: WS_GET_ORDERS,\r\n  payload\r\n})\r\n\r\nexport const wsConnectionStart = (): IWsConnectionStart => ({\r\n  type: WS_CONNECTION_START\r\n})\r\n\r\nexport const wsProfileConnectionStart = (): IWsProfileConnectionStart => ({\r\n  type: WS_CONNECTION_PROFILE_ORDERS_START\r\n})\r\n\r\nexport const wsGetUserOrders = (payload: TWSPayload): IWsGetUserOrders => ({\r\n  type: WS_GET_USER_ORDERS,\r\n  payload\r\n})\r\n\r\nexport const wsUserConnectionClosed = (): IWsConnectionUserClosed => ({\r\n  type: WS_USER_CONNECTION_CLOSED\r\n})\r\n","import s from './order-item.module.css'\r\nimport React, { FC } from 'react'\r\nimport { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport { IIngredient } from '../../../utils/types/types'\r\nimport { formatRelative } from 'date-fns'\r\nimport { ru } from 'date-fns/locale'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\ninterface IOrderItemProps {\r\n  fullname: string;\r\n  ingredients: ReadonlyArray<IIngredient>\r\n  createdAt: string;\r\n  id: number;\r\n  status: string;\r\n}\r\n\r\nconst OrderItem: FC<IOrderItemProps> = ({ fullname, ingredients, createdAt, id }) => {\r\n  const history = useHistory()\r\n\r\n  const date = formatRelative(new Date(createdAt), new Date(), { locale: ru })\r\n\r\n  const onOrderItemClick = (id: number) => {\r\n    history.replace({ pathname: `/feed/${id}` })\r\n  }\r\n\r\n  const uI: any = new Set(ingredients)\r\n  const uniqueIngredients = [...uI]\r\n\r\n  if (!ingredients) return null\r\n\r\n  return (\r\n    <div className={s.wrapper} onClick={() => onOrderItemClick(id)}>\r\n      <p className={s.flex}>\r\n        <span className=\"text text_type_digits-default\">\r\n          #{id}\r\n        </span>\r\n        <span className=\"text text_type_main-default text_color_inactive\">\r\n          {date}\r\n        </span>\r\n      </p>\r\n\r\n      <p className={`${s.full_name} text text_type_main-medium mb-6 mt-6`}>\r\n        {fullname}\r\n      </p>\r\n\r\n      <div className={`${s.footer} mb-2`}>\r\n        <ul className={s.iconsWrapper}>\r\n          {\r\n            uniqueIngredients\r\n              .filter((itemId: string, index: number) => index < 6)\r\n              .map((i, index) => {\r\n                const rest = ingredients ? (ingredients?.length - 6) : 0\r\n\r\n                return (\r\n                  <li className={s.imageWrapper} key={index}>\r\n                    <img className={s.ingredientImage} src={i?.image} alt=\"no img\" />\r\n                    {index === 5 && <span className={s.count}>+{rest}</span>}\r\n                  </li>\r\n                )\r\n              }\r\n              )\r\n          }\r\n        </ul>\r\n\r\n        <span className={s.icon_and_price}>\r\n          <div className={s.icon_and_priceWrapper}>\r\n            <span className=\"text text_type_digits-default\">\r\n              {ingredients.reduce((sum, current) => sum + current.price, 0)}\r\n            </span>\r\n            <span className={s.icon}>\r\n              <CurrencyIcon type=\"primary\" />\r\n            </span>\r\n          </div>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OrderItem\r\n","import React, { FC } from 'react';\r\nimport s from './order-status-board.module.css'\r\n\r\ninterface IOrderStatusBoardProps {\r\n  total: number;\r\n  totalToday: number;\r\n  ordersDone: ReadonlyArray<number>;\r\n  ordersPending: ReadonlyArray<number>;\r\n}\r\n\r\nconst OrderStatusBoard: FC<IOrderStatusBoardProps> = ({ ordersDone, ordersPending, total, totalToday }) => {\r\n  return (\r\n    <section className={s.wrapper}>\r\n      <div className={s.order_status}>\r\n        <div>\r\n          <p className={`text text_type_main-medium mb-6`}>Готовы: </p>\r\n          <div className={s.scrollable}>\r\n            {\r\n              !!ordersDone\r\n                ? ordersDone.map(\r\n                  (order, index) =>\r\n                    <p className={`${s.done} text text_type_digits-default`} key={index}>\r\n                      {order}\r\n                    </p>)\r\n                : null\r\n            }\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <p className={`text text_type_main-medium mb-6`}>В работе: </p>\r\n          <div className={s.scrollable}>\r\n            {\r\n              !!ordersPending\r\n                ? ordersPending.map(\r\n                  (order, index) =>\r\n                    <p className={`text text_type_digits-default`} key={index}>\r\n                      {order}\r\n                    </p>)\r\n                : null\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <p className=\"text text_type_main-medium mt-15\">Выполнено за все время:</p>\r\n        <p className=\"text text_type_digits-large\">{total}</p>\r\n      </div>\r\n      <div>\r\n        <p className=\"text text_type_main-medium mt-15\">Выполнено за сегодня:</p>\r\n        <p className=\"text text_type_digits-large\">{totalToday}</p>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default OrderStatusBoard\r\n","import React, { FC } from 'react'\r\nimport { ROUTES } from '../../utils/constants'\r\nimport { IOrder } from '../../utils/types/orders-types'\r\nimport s from './feed.module.css'\r\nimport OrderItem from './order-item/order-item'\r\nimport OrderStatusBoard from './order-status-board/order-status-board'\r\n\r\ninterface IFeedProps {\r\n  orders: ReadonlyArray<IOrder>;\r\n  total: number;\r\n  totalToday: number;\r\n  ordersDone: ReadonlyArray<number>;\r\n  ordersPending: ReadonlyArray<number>;\r\n}\r\n\r\nconst Feed: FC<IFeedProps> = ({ orders, total, totalToday, ordersDone, ordersPending }) => {\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <section className={s.feed}>\r\n        <div className='text text_type_main-medium'>\r\n          {ROUTES.orders.title}\r\n        </div>\r\n\r\n        <div className={s.scrollable}>\r\n          {orders &&\r\n            orders.map(order =>\r\n              <OrderItem key={order.id}\r\n                {...order}\r\n              />\r\n            )\r\n          }\r\n        </div>\r\n      </section>\r\n\r\n      <section className={s.orders}>\r\n        <OrderStatusBoard ordersDone={ordersDone} ordersPending={ordersPending} total={total} totalToday={totalToday} />\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Feed\r\n","import React, { useEffect } from \"react\"\r\nimport { wsConnectionClosed, wsConnectionStart } from \"../../services/actions/ws-actions\"\r\nimport { ensure, getIngredientById } from \"../../utils/common\"\r\nimport { useSelector, useDispatch } from \"../../utils/hooks\"\r\nimport Feed from \"./feed\"\r\n\r\nconst FeedContainer = () => {\r\n  const dispatch = useDispatch()\r\n  const wsOrders = useSelector(state => state.wsOrders)\r\n  const total = wsOrders.total\r\n  const totalToday = wsOrders.totalToday\r\n  const ingredients = useSelector(state => state.ingredients.ingredients)\r\n\r\n  const orders = wsOrders.orders.map(order => ({\r\n    id: order.number,\r\n    createdAt: order.createdAt,\r\n    fullname: order.name,\r\n    status: order.status,\r\n    ingredients: order.ingredients.map(i => ensure(getIngredientById(ingredients, i)))\r\n  }))\r\n\r\n  const ordersDone = orders.filter(order => order.status === \"done\").map(order => order.id)\r\n  const ordersPending = orders.filter(order => order.status === \"pending\").map(order => order.id)\r\n\r\n  useEffect(() => {\r\n    if (!wsOrders.wsConnected) {\r\n      dispatch(wsConnectionStart())\r\n    }\r\n    return (() => {\r\n      dispatch(wsConnectionClosed())\r\n    })\r\n    // wsOrders.wsConnected не добавлен в зависимости, тк будет бесконечная перерисовка\r\n    // тоже самое происходит, если совсем убрать все зависимости\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <>\r\n      {\r\n        !!orders\r\n          ? <Feed orders={orders} total={total} totalToday={totalToday} ordersDone={ordersDone} ordersPending={ordersPending} />\r\n          : <div>Loading...</div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FeedContainer\r\n","import React, { FC } from 'react'\r\nimport { TIngredientType } from '../../utils/types/types'\r\nimport s from './feed-page.module.css'\r\n\r\ninterface IFeedPageItemProps {\r\n  img: string;\r\n  price: number;\r\n  name: string;\r\n  type: TIngredientType;\r\n  amount: number\r\n}\r\n\r\nconst FeedPageItem: FC<IFeedPageItemProps> = ({ img, price, name, type, amount }) => {\r\n  amount = type === 'bun' ? 2 : amount\r\n  return (\r\n    <div className={`${s.itemWrapper} mb-4 mr-6`}>\r\n      <div className={s.iconsWrapper}>\r\n        <div className={s.imageWrapper}>\r\n          <img className={s.ingredientImage} src={img} alt=\"no img\" />\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div className={`text text_type_main-default`}>\r\n        {name}\r\n      </div>\r\n\r\n      <div className={`${s.price} ml-4 text text_type_digits-default`}>\r\n        <div>\r\n          {amount}\r\n        </div>\r\n        <div>x</div>\r\n        <div>{price}</div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FeedPageItem\r\n","import s from './feed-page.module.css'\r\nimport React, { FC } from 'react'\r\nimport { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport { formatRelative } from 'date-fns'\r\nimport { ru } from 'date-fns/locale'\r\nimport { TOrderStatus, TServerOrder } from '../../utils/types/orders-types'\r\nimport { getIngredientById } from '../../utils/common'\r\nimport { useSelector } from '../../utils/hooks'\r\nimport FeedPageItem from './feed-page-item'\r\n\r\ninterface IFeedPageProps {\r\n  orders: ReadonlyArray<TServerOrder>;\r\n  show: boolean;\r\n  paramsId: number\r\n}\r\n\r\nconst FeedPage: FC<IFeedPageProps> = ({ show, paramsId, orders }) => {\r\n  // пожалуйста, не смотрите на эти костыли, у меня паника -_-\r\n\r\n  const order = orders && orders.length && orders.find((order: TServerOrder) => order.number === paramsId)\r\n  const date = order && formatRelative(new Date(order.createdAt), new Date(), { locale: ru })\r\n  const ingredients = useSelector(state => state.ingredients.ingredients)\r\n  const currentOrderIngredients = order && order.ingredients.map((i: string) => getIngredientById(ingredients, i))\r\n\r\n  const showStatus = (status: TOrderStatus) => {\r\n    switch (status) {\r\n      case 'done':\r\n        return 'Выполнен'\r\n      case 'created':\r\n        return 'Приготовлен'\r\n      case 'cancelled':\r\n        return 'Отменен'\r\n      case 'pending':\r\n        return 'Ожидание'\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  const ingredientsMap = new Map()\r\n\r\n  currentOrderIngredients && currentOrderIngredients\r\n    .map(i => {\r\n      const current = i?._id\r\n\r\n      if (!ingredientsMap.has(current)) {\r\n        ingredientsMap.set(current, 1);\r\n      } else {\r\n        ingredientsMap.set(current, ingredientsMap.get(current) + 1);\r\n      }\r\n      return ingredientsMap\r\n    })\r\n\r\n  const uI: any = currentOrderIngredients && new Set(currentOrderIngredients)\r\n  const uniqueIngredients = [...uI]\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      {\r\n        show\r\n          ? <p className={`${s.id} text text_type_digits-default`}>\r\n            #{paramsId}\r\n          </p>\r\n          : null\r\n      }\r\n\r\n      <p className='text text_type_main-medium mb-3'>\r\n        {order && order.name}\r\n      </p>\r\n\r\n      <p className='text text_type_main-small mb-15'>\r\n        {order && showStatus(order.status)}\r\n      </p>\r\n\r\n      <p className='text text_type_main-medium mb-6'>\r\n        Состав:\r\n      </p>\r\n\r\n      <div className={`${s.scrollable} mb-10`}>\r\n        {\r\n          uniqueIngredients.map(\r\n            (i, index) => {\r\n              const amount = ingredientsMap.get(i?._id)\r\n              return (\r\n                i && <FeedPageItem img={i.image} name={i.name} type={i.type} price={i.price} key={index} amount={amount} />\r\n              )\r\n            }\r\n          )\r\n        }\r\n      </div>\r\n      <footer className={`mb-15 ${s.footer}`}>\r\n        <span className='text text_type_main-default text_color_inactive'>\r\n          {date}\r\n        </span>\r\n        <span className={`${s.icon} text text_type_digits-default`}>\r\n          {currentOrderIngredients && currentOrderIngredients.reduce((sum: number, current: any) => sum + current.price, 0)}\r\n          <CurrencyIcon type='primary' />\r\n        </span>\r\n      </footer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FeedPage\r\n","import React, { useEffect } from 'react'\r\nimport { useLocation, useParams } from 'react-router-dom'\r\nimport Modal from '../../components/modal/modal'\r\nimport { requestIngredients } from '../../services/actions/ingredients-actions'\r\nimport { wsConnectionClosed, wsConnectionStart } from '../../services/actions/ws-actions'\r\nimport { useDispatch, useSelector } from '../../utils/hooks'\r\nimport FeedPage from './feed-page'\r\n\r\nconst FeedPageContainer = () => {\r\n  const { id } = useParams<{ id: string }>()\r\n  const dispatch = useDispatch()\r\n  const parsedId = parseInt(id, 10)\r\n  const orders = useSelector(state => state.wsOrders.orders)\r\n  const ingredients = useSelector(state => state.ingredients.ingredients)\r\n  const location = useLocation()\r\n\r\n  useEffect(() => {\r\n    if (!orders.length) dispatch(wsConnectionStart())\r\n    if (!ingredients.length) dispatch(requestIngredients())\r\n\r\n    return (() => {\r\n      dispatch(wsConnectionClosed())\r\n    })\r\n  }, [dispatch, orders, ingredients])\r\n\r\n  if (!orders.length) return null\r\n\r\n  return (\r\n    <>\r\n      {\r\n        !location.key\r\n          ? <FeedPage show={true} orders={orders} paramsId={parsedId} />\r\n          : <Modal headerTitle={parsedId} from='/feed'>\r\n            <FeedPage show={false} orders={orders} paramsId={parsedId} />\r\n          </Modal>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default FeedPageContainer\r\n","import { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components'\r\nimport { formatRelative } from 'date-fns'\r\nimport { ru } from 'date-fns/locale'\r\nimport React, { FC } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { getIngredientById } from '../../../utils/common'\r\nimport { useSelector } from '../../../utils/hooks'\r\nimport { TOrderStatus, TServerOrder } from '../../../utils/types/orders-types'\r\nimport s from './order-item.module.css'\r\n\r\nconst UserOrderItem: FC<TServerOrder> = ({ createdAt, number, name, ingredients, status }) => {\r\n  const date = formatRelative(new Date(createdAt), new Date(), { locale: ru })\r\n  const stateIngredients = useSelector(state => state.ingredients.ingredients)\r\n  const orderIngredients = ingredients.map(i => getIngredientById(stateIngredients, i))\r\n  const uI: any = new Set(orderIngredients)\r\n  const uniqueIngredients = [...uI]\r\n\r\n  const history = useHistory()\r\n  const showStatus = (status: TOrderStatus) => {\r\n    switch (status) {\r\n      case 'done':\r\n        return 'Выполнен'\r\n      case 'created':\r\n        return 'Приготовлен'\r\n      case 'cancelled':\r\n        return 'Отменен'\r\n      case 'pending':\r\n        return 'Ожидание'\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  const onOrderItemClick = (id: number) => {\r\n    history.replace({ pathname: `/profile/orders/${id}` })\r\n  }\r\n\r\n  return (\r\n    <div className={s.wrapper} onClick={() => onOrderItemClick(number)}>\r\n      <p className={`${s.flex} mb-6`}>\r\n        <span className=\"text text_type_digits-default\">\r\n          #{number}\r\n        </span>\r\n        <span className=\"text text_type_main-default text_color_inactive\">\r\n          {date}\r\n        </span>\r\n      </p>\r\n\r\n      <p className={`${s.full_name} text text_type_main-medium mb-2`}>\r\n        {name}\r\n      </p>\r\n\r\n      <p className=\"text text_type_main-default mb-6\">\r\n        {showStatus(status)}\r\n      </p>\r\n\r\n      <div className={`${s.footer} mb-6`}>\r\n        <ul className={s.iconsWrapper}>\r\n          {\r\n            uniqueIngredients\r\n              .filter((itemId, index: number) => index < 6)\r\n              .map((i, index) => {\r\n                const rest = ingredients ? (ingredients?.length - 6) : 0\r\n\r\n                return (\r\n                  <li className={s.imageWrapper} key={index}>\r\n                    <img className={s.ingredientImage} src={i?.image} alt=\"no img\" />\r\n                    {index === 5 && <span className={s.count}>+{rest}</span>}\r\n                  </li>\r\n                )\r\n              }\r\n              )\r\n          }\r\n        </ul>\r\n\r\n        <span className={s.icon_and_price}>\r\n          <div className={s.icon_and_priceWrapper}>\r\n            <span className=\"text text_type_digits-default\">\r\n              {orderIngredients.reduce((sum, current: any) => sum + current.price, 0)}\r\n            </span>\r\n            <span className={s.icon}>\r\n              <CurrencyIcon type=\"primary\" />\r\n            </span>\r\n          </div>\r\n        </span>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserOrderItem\r\n","import React, { useEffect, useState } from 'react'\r\nimport s from './profile-orders.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from '../../../utils/hooks'\r\nimport { logOut } from '../../../services/actions/user-actions'\r\nimport { wsProfileConnectionStart, wsUserConnectionClosed } from '../../../services/actions/ws-actions'\r\nimport UserOrderItem from '../order-item/order-item'\r\n\r\nconst ProfileOrders = () => {\r\n  const linkStyle = 'text text_type_main-medium text_color_inactive'\r\n  const [path, setPath] = useState('/profile/orders')\r\n  const wsOrders = useSelector(state => state.wsOrders)\r\n  const dispatch = useDispatch()\r\n  const logOutHandle = () => {\r\n    dispatch(logOut())\r\n  }\r\n\r\n  const ordersArray = [...wsOrders?.userOrders].reverse()\r\n\r\n  useEffect(() => {\r\n    if (!wsOrders.wsUserConnected) {\r\n      dispatch(wsProfileConnectionStart())\r\n    }\r\n    return (() => {\r\n      dispatch(wsUserConnectionClosed())\r\n    })\r\n    // wsOrders.wsUserConnected не добавлен в зависимости, тк будет бесконечная перерисовка\r\n    // тоже самое происходит, если совсем убрать все зависимости\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <nav className={`${s.nav} mr-30`}>\r\n        <div className={`${s.list} mb-20`}>\r\n          <NavLink\r\n            to='/profile'\r\n            className={`${s.listItem} ${linkStyle}`}\r\n            activeClassName={path === '/profile' ? `${s.active}` : ''}\r\n            onClick={() => setPath('/profile')}\r\n          >\r\n            Профиль\r\n          </NavLink>\r\n\r\n          <NavLink\r\n            to='/profile/orders'\r\n            className={`${s.listItem} ${linkStyle}`}\r\n            activeClassName={path === '/profile/orders' ? `${s.active}` : ''}\r\n            onClick={() => setPath('/profile/orders')}\r\n          >\r\n            История заказов\r\n          </NavLink>\r\n\r\n          <div className={`${s.listItem} ${linkStyle}`} onClick={logOutHandle}>Выход</div>\r\n        </div>\r\n        <p className=\"text text_type_main-default text_color_inactive\">\r\n          В этом разделе Вы можете посмотреть историю своих заказов\r\n        </p>\r\n      </nav>\r\n\r\n      <div className={s.scrollable}>\r\n        {\r\n          !!wsOrders.userOrders.length\r\n          && ordersArray\r\n            .map((i, index) =>\r\n              <UserOrderItem {...i} key={index} />\r\n            )\r\n        }\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default ProfileOrders\r\n","import React, { useEffect } from 'react'\r\nimport { useLocation, useParams } from 'react-router-dom'\r\nimport Modal from '../../../components/modal/modal'\r\nimport { wsConnectionStart } from '../../../services/actions/ws-actions'\r\nimport { useDispatch, useSelector } from '../../../utils/hooks'\r\nimport FeedPage from '../../feed/feed-page'\r\n\r\nconst ProfileOrderContainer = () => {\r\n  const { id } = useParams<{ id: string }>()\r\n  const dispatch = useDispatch()\r\n  const parsedId = parseInt(id, 10)\r\n  const location = useLocation()\r\n  const orders = useSelector(state => state.wsOrders.orders)\r\n  \r\n  useEffect(() => {\r\n    if (!orders.length) dispatch(wsConnectionStart())    \r\n  }, [dispatch, orders])\r\n\r\n  if (!orders.length) return null\r\n\r\n  return (\r\n    <>\r\n      {\r\n        !location.key\r\n          ? <FeedPage show={true} orders={orders} paramsId={parsedId} />\r\n          : <Modal headerTitle={parsedId} from='/profile/orders'>\r\n            <FeedPage show={false} orders={orders} paramsId={parsedId} />\r\n          </Modal>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProfileOrderContainer\r\n","import React, { FC } from 'react'\r\nimport AppHeader from '../app-header/app-header'\r\nimport { Switch, Route, useLocation } from 'react-router-dom';\r\nimport Login from '../../pages/login/login'\r\nimport SignUp from '../../pages/sign-up/sign-up'\r\nimport NewPassword from '../../pages/new-password/new-password'\r\nimport ResetPassword from '../../pages/reset-password/reset-password'\r\nimport Profile from '../../pages/profile/profile'\r\nimport Error404 from '../../pages/error404/error404'\r\nimport ProtectedRoute from '../protected-route/protected-route'\r\nimport { ROUTES } from '../../utils/constants'\r\nimport MainContentContainer from '../main-content-container/main-content-container'\r\nimport IngredientContainer from '../../pages/ingredient/ingredient-container'\r\nimport { IIngredient, ILocation } from '../../utils/types/types';\r\nimport UnauthRedirect from '../with-unauth-redirect/with-unauth-redirect';\r\nimport FeedContainer from '../feed/feed-container'\r\nimport FeedPageContainer from '../../pages/feed/feed-page-container';\r\nimport ProfileOrders from '../../pages/profile/profile-orders/profile-orders';\r\nimport ProfileOrderContainer from '../../pages/profile/profile-orders/profile-order-container';\r\n\r\ninterface IAppProps {\r\n  ingredients: ReadonlyArray<IIngredient>\r\n}\r\n\r\nconst App: FC<IAppProps> = ({ ingredients }) => {\r\n  const location = useLocation<ILocation>()\r\n  const background = location.state && location.state.background\r\n\r\n  return (\r\n    <>\r\n      <AppHeader />\r\n\r\n      <Switch location={background || location}>\r\n        <Route path={ROUTES.home.path} exact>\r\n          <MainContentContainer />\r\n        </Route>\r\n\r\n        <Route path={ROUTES.ingredient.path}>\r\n          <IngredientContainer ingredients={ingredients} />\r\n        </Route>\r\n\r\n        <Route path={ROUTES.orders.path} exact>\r\n          <FeedContainer />\r\n        </Route>\r\n\r\n        <Route path={ROUTES.orderPage.path} >\r\n          <FeedPageContainer />\r\n        </Route>\r\n\r\n        <UnauthRedirect path={ROUTES.login.path} exact>\r\n          <Login />\r\n        </UnauthRedirect>\r\n\r\n        <UnauthRedirect path={ROUTES.register.path} exact>\r\n          <SignUp />\r\n        </UnauthRedirect>\r\n\r\n        <UnauthRedirect path={ROUTES.forgotPassword.path} exact>\r\n          <NewPassword />\r\n        </UnauthRedirect>\r\n\r\n        <UnauthRedirect path={ROUTES.resetPassword.path} exact>\r\n          <ResetPassword />\r\n        </UnauthRedirect>\r\n\r\n        <ProtectedRoute path={ROUTES.profile.path} exact>\r\n          <Profile />\r\n        </ProtectedRoute>\r\n\r\n        <ProtectedRoute path={ROUTES.profileOrders.path} exact>\r\n          <ProfileOrders />\r\n        </ProtectedRoute>\r\n\r\n        <ProtectedRoute path={ROUTES.profileOrderPage.path} exact>\r\n          <ProfileOrderContainer />\r\n        </ProtectedRoute>\r\n\r\n        <Route path='*'>\r\n          <Error404 />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React, { FC, useEffect } from 'react'\r\nimport { requestIngredients } from '../../services/actions/ingredients-actions'\r\nimport App from './app'\r\nimport { useDispatch, useSelector } from '../../utils/hooks'\r\n\r\nconst AppContainer: FC = () => {\r\n  const dispatch = useDispatch()\r\n  const { ingredients } = useSelector((state) => state.ingredients)\r\n\r\n  useEffect(() => {\r\n    if (!ingredients.length) dispatch(requestIngredients())\r\n  }, [dispatch, ingredients.length])\r\n\r\n  return (\r\n    <App ingredients={ingredients} />\r\n  )\r\n}\r\n\r\nexport default AppContainer\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n  TIngredientsReducer,\r\n  TIngredientsActions,\r\n} from \"../../utils/types/ingredients-types\";\r\nimport {\r\n  SET_CURRENT_INGREDIENT,\r\n  SET_INGREDIENTS_ERROR,\r\n  SET_INGREDIENTS_REQUEST,\r\n  SET_INGREDIENTS_SUCCESS,\r\n  REMOVE_CURRENT_INGREDIENT,\r\n  SHOW_INGREDIENTS_MODAL,\r\n  HIDE_INGREDIENTS_MODAL,\r\n} from \"../actions/action-types\";\r\n\r\nconst initialState: TIngredientsReducer = {\r\n  ingredients: [],\r\n  ingredientsError: false,\r\n  ingredientsRequest: false,\r\n\r\n  currentIngredient: {},\r\n\r\n  isModal: false,\r\n};\r\n\r\nexport const ingredientsReducer = (\r\n  state = initialState,\r\n  action: TIngredientsActions\r\n): TIngredientsReducer => {\r\n  switch (action.type) {\r\n    case SHOW_INGREDIENTS_MODAL:\r\n      return { ...state, isModal: true };\r\n    case HIDE_INGREDIENTS_MODAL:\r\n      return { ...state, isModal: false };\r\n\r\n    case SET_INGREDIENTS_REQUEST:\r\n      return { ...state, ingredientsRequest: true };\r\n    case SET_INGREDIENTS_ERROR:\r\n      return { ...state, ingredientsError: true, ingredientsRequest: false };\r\n    case SET_INGREDIENTS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ingredients: action.ingredients,\r\n        ingredientsError: false,\r\n        ingredientsRequest: false,\r\n      };\r\n\r\n    case SET_CURRENT_INGREDIENT:\r\n      return { ...state, currentIngredient: { ...action.ingredient } };\r\n    case REMOVE_CURRENT_INGREDIENT:\r\n      return { ...state, currentIngredient: {} };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { ensure } from \"../../utils/common\";\r\nimport {\r\n  TConstructorActions,\r\n  TConstructorReducer,\r\n} from \"../../utils/types/constructor-types\";\r\nimport { IItem } from \"../../utils/types/types\";\r\nimport {\r\n  ADD_BUN,\r\n  ADD_INGREDIENT,\r\n  MOVE_INGREDIENT,\r\n  REMOVE_ITEM,\r\n  ADD_TO_INGREDIENTS_MAP,\r\n  ADD_TO_BUN_MAP,\r\n  POST_ORDER_SUCCESS,\r\n  POST_ORDER_REQUEST,\r\n  POST_ORDER_ERROR,\r\n  CLEAR_CONSTRUCTOR,\r\n  SHOW_MODAL,\r\n  HIDE_MODAL,\r\n} from \"../actions/action-types\";\r\n\r\nconst initialState: TConstructorReducer = {\r\n  constructorIngredients: [],\r\n  bun: {\r\n    _id: \"\",\r\n    name: \"\",\r\n    type: \"bun\",\r\n    proteins: 0,\r\n    fat: 0,\r\n    carbohydrates: 0,\r\n    calories: 0,\r\n    price: 0,\r\n    image: \"\",\r\n    image_mobile: \"\",\r\n    image_large: \"\",\r\n    uniqueId: 0,\r\n    index: 0,\r\n  },\r\n\r\n  ingredientsMap: new Map(),\r\n  bunMap: new Map(),\r\n\r\n  order: Number(),\r\n  orderError: false,\r\n  orderRequest: false,\r\n\r\n  isModal: false,\r\n};\r\n\r\nexport const constructorReducer = (\r\n  state = initialState,\r\n  action: TConstructorActions\r\n): TConstructorReducer => {\r\n  switch (action.type) {\r\n    case SHOW_MODAL:\r\n      return { ...state, isModal: true };\r\n    case HIDE_MODAL:\r\n      return { ...state, isModal: false };\r\n\r\n    case ADD_BUN:\r\n      return { ...state, bun: action.item };\r\n    case ADD_INGREDIENT:\r\n      return {\r\n        ...state,\r\n        constructorIngredients: [...state.constructorIngredients, action.item],\r\n      };\r\n\r\n    case ADD_TO_INGREDIENTS_MAP:\r\n      const mapI = state.ingredientsMap;\r\n      const current = action.id;\r\n      if (mapI.has(current)) {\r\n        mapI.set(current, mapI.get(current) + 1);\r\n      } else {\r\n        mapI.set(current, 1);\r\n      }\r\n      return { ...state, ingredientsMap: mapI };\r\n    case ADD_TO_BUN_MAP:\r\n      const mapB = state.bunMap;\r\n      const currentBun = action.id;\r\n      if (!mapB.has(currentBun)) {\r\n        mapB.clear();\r\n        mapB.set(currentBun, 1);\r\n      }\r\n      return { ...state, bunMap: mapB };\r\n\r\n    case POST_ORDER_REQUEST:\r\n      return { ...state, orderRequest: true };\r\n    case POST_ORDER_ERROR:\r\n      return { ...state, orderError: true, orderRequest: false };\r\n    case POST_ORDER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        order: action.number,\r\n        orderError: false,\r\n        orderRequest: false,\r\n      };\r\n\r\n    case MOVE_INGREDIENT: {\r\n      const dragIngredient: IItem = ensure(\r\n        state.constructorIngredients.find(\r\n          (i) => i.uniqueId === action.dragIndex\r\n        )\r\n      );\r\n      const dragIndex = state.constructorIngredients.findIndex(\r\n        (i) => i.uniqueId === action.dragIndex\r\n      );\r\n      const hoverIngredient = state.constructorIngredients.findIndex(\r\n        (i) => i.uniqueId === action.hoverIndex\r\n      );\r\n      const newIngredients = [...state.constructorIngredients];\r\n\r\n      newIngredients.splice(dragIndex, 1);\r\n      newIngredients.splice(hoverIngredient, 0, dragIngredient);\r\n      return { ...state, constructorIngredients: newIngredients };\r\n    }\r\n    case REMOVE_ITEM: {\r\n      const removedIndex = state.constructorIngredients.findIndex(\r\n        (i) => i.uniqueId === action.id\r\n      );\r\n      const newIngredients = [...state.constructorIngredients];\r\n      newIngredients.splice(removedIndex, 1);\r\n      const removedId = state.constructorIngredients[removedIndex]._id;\r\n      const itemsMap = state.ingredientsMap;\r\n      if (itemsMap.has(removedId)) {\r\n        itemsMap.set(removedId, itemsMap.get(removedId) - 1);\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        constructorIngredients: newIngredients,\r\n        ingredientsMap: itemsMap,\r\n      };\r\n    }\r\n\r\n    case CLEAR_CONSTRUCTOR:\r\n      return {\r\n        ...state,\r\n        constructorIngredients: [],\r\n        bun: {\r\n          _id: \"\",\r\n          name: \"\",\r\n          type: \"bun\",\r\n          proteins: 0,\r\n          fat: 0,\r\n          carbohydrates: 0,\r\n          calories: 0,\r\n          price: 0,\r\n          image: \"\",\r\n          image_mobile: \"\",\r\n          image_large: \"\",\r\n          uniqueId: 0,\r\n          index: 0,\r\n        },\r\n        bunMap: new Map(),\r\n        ingredientsMap: new Map(),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { TUserReducer, TUserActions } from \"../../utils/types/user-types\";\r\nimport {\r\n  REQUEST_SUCCESS,\r\n  REQUEST_ERROR,\r\n  REQUEST,\r\n} from \"../actions/action-types\";\r\n\r\nconst initialState: TUserReducer = {\r\n  email: \"\",\r\n  password: \"\",\r\n  name: \"\",\r\n\r\n  isAuth: false,\r\n\r\n  request: false,\r\n  error: false,\r\n\r\n  resetPassSuccess: false,\r\n};\r\n\r\nexport const userReducer = (\r\n  state = initialState,\r\n  action: TUserActions\r\n): TUserReducer => {\r\n  switch (action.type) {\r\n    case REQUEST:\r\n      return { ...state, error: false, request: true, ...action.payload };\r\n    case REQUEST_ERROR:\r\n      return { ...state, error: true, request: false, ...action.payload };\r\n    case REQUEST_SUCCESS:\r\n      return { ...state, error: false, request: false, ...action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { IWsReducer, TWsActions } from \"../../utils/types/ws-types\";\r\nimport {\r\n  WS_CONNECTION_CLOSED,\r\n  WS_CONNECTION_ERROR,\r\n  WS_CONNECTION_SUCCESS,\r\n  WS_GET_ORDERS,\r\n  WS_GET_USER_ORDERS,\r\n  WS_USER_CONNECTION_CLOSED,\r\n  WS_USER_CONNECTION_ERROR,\r\n  WS_USER_CONNECTION_SUCCESS,\r\n} from \"../actions/action-types\";\r\n\r\nconst initialState: IWsReducer = {\r\n  wsConnected: false,\r\n  orders: [],\r\n  total: 0,\r\n  totalToday: 0,\r\n  userOrders: [],\r\n  wsUserConnected: false,\r\n};\r\n\r\nexport const wsReducer = (\r\n  state = initialState,\r\n  action: TWsActions\r\n): IWsReducer => {\r\n  switch (action.type) {\r\n    case WS_CONNECTION_CLOSED:\r\n      return {\r\n        ...state,\r\n        wsConnected: false,\r\n      };\r\n\r\n    case WS_CONNECTION_ERROR:\r\n      return {\r\n        ...state,\r\n        wsConnected: false,\r\n      };\r\n\r\n    case WS_CONNECTION_SUCCESS:\r\n      return {\r\n        ...state,\r\n        wsConnected: true,\r\n      };\r\n\r\n    case WS_GET_ORDERS:\r\n      return {\r\n        ...state,\r\n        total: action.payload.total,\r\n        totalToday: action.payload.totalToday,\r\n        orders: action.payload.orders,\r\n      };\r\n\r\n    case WS_GET_USER_ORDERS:\r\n      return {\r\n        ...state,\r\n        userOrders: action.payload.orders,\r\n      };\r\n    case WS_USER_CONNECTION_SUCCESS:\r\n      return {\r\n        ...state,\r\n        wsUserConnected: true,\r\n      };\r\n    case WS_USER_CONNECTION_CLOSED:\r\n      return {\r\n        ...state,\r\n        wsUserConnected: false,\r\n      };\r\n    case WS_USER_CONNECTION_ERROR:\r\n      return {\r\n        ...state,\r\n        wsUserConnected: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import type { Middleware, MiddlewareAPI } from \"redux\";\r\nimport { getCookie } from \"../../utils/common\";\r\nimport { TAppDispatch, TRootState } from \"../../utils/types/types\";\r\nimport { TSMWActions, TWsActions } from \"../../utils/types/ws-types\";\r\n\r\nexport const socketMiddleware = (\r\n  url: string,\r\n  wsActions: TSMWActions\r\n): Middleware => {\r\n  return ((store: MiddlewareAPI<TAppDispatch, TRootState>) => {\r\n    let socket: WebSocket | null = null;\r\n\r\n    return (next) => (action: TWsActions) => {\r\n      const { dispatch } = store;\r\n      const { type } = action;\r\n      const {\r\n        wsInit,\r\n        onOpen,\r\n        onClose,\r\n        onError,\r\n        onMessage,\r\n        wsUserInit,\r\n      } = wsActions;\r\n      const token = getCookie(\"accessToken\");\r\n\r\n      if (type === wsInit) {\r\n        socket = new WebSocket(`${url}/all`);\r\n      } else if (type === wsUserInit) {\r\n        if (token) {\r\n          socket = new WebSocket(`${url}${\"?token=\" + token}`);\r\n        }\r\n      }\r\n\r\n      if (socket) {\r\n        socket.onopen = (event) => {\r\n          dispatch({ type: onOpen, payload: event });\r\n        };\r\n\r\n        socket.onerror = (event) => {\r\n          dispatch({ type: onError, payload: event });\r\n        };\r\n\r\n        socket.onclose = (event) => {\r\n          dispatch({ type: onClose, payload: event });\r\n        };\r\n\r\n        socket.onmessage = (event) => {\r\n          const { data } = event;\r\n          const parsedData = JSON.parse(data);\r\n\r\n          dispatch({ type: onMessage, payload: parsedData });\r\n        };\r\n      }\r\n\r\n      next(action);\r\n    };\r\n  }) as Middleware;\r\n};\r\n","import { ingredientsReducer } from \"./ingredients-reducer\";\r\nimport { constructorReducer } from \"./constructor-reducer\";\r\nimport { userReducer } from \"./user-reducer\";\r\nimport { wsReducer } from \"./ws-reducer\";\r\n\r\nimport { compose, createStore, applyMiddleware, combineReducers } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { socketMiddleware } from \"../middleware/wsMiddleware\";\r\nimport { WS_URL } from \"../../utils/constants\";\r\n\r\nimport {\r\n  WS_CONNECTION_START,\r\n  WS_CONNECTION_SUCCESS,\r\n  WS_CONNECTION_CLOSED,\r\n  WS_CONNECTION_ERROR,\r\n  WS_GET_ORDERS,\r\n  WS_CONNECTION_PROFILE_ORDERS_START,\r\n  WS_GET_USER_ORDERS,\r\n  WS_USER_CONNECTION_ERROR,\r\n  WS_USER_CONNECTION_CLOSED,\r\n  WS_USER_CONNECTION_SUCCESS,\r\n} from \"../actions/action-types\";\r\n\r\nconst wsActions = {\r\n  wsInit: WS_CONNECTION_START,\r\n  onOpen: WS_CONNECTION_SUCCESS,\r\n  onClose: WS_CONNECTION_CLOSED,\r\n  onError: WS_CONNECTION_ERROR,\r\n  onMessage: WS_GET_ORDERS,\r\n};\r\n\r\nconst wsUserActions = {\r\n  wsUserInit: WS_CONNECTION_PROFILE_ORDERS_START,\r\n  onOpen: WS_USER_CONNECTION_SUCCESS,\r\n  onClose: WS_USER_CONNECTION_CLOSED,\r\n  onError: WS_USER_CONNECTION_ERROR,\r\n  onMessage: WS_GET_USER_ORDERS,\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  ingredients: ingredientsReducer,\r\n  burgerConstructor: constructorReducer,\r\n  user: userReducer,\r\n  wsOrders: wsReducer,\r\n});\r\n\r\nconst composeEnhancers =\r\n  (window && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(\r\n    applyMiddleware(\r\n      thunk,\r\n      socketMiddleware(WS_URL, wsActions),\r\n      socketMiddleware(WS_URL, wsUserActions)\r\n    )\r\n  )\r\n);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport AppContainer from './components/app/app-container';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './services/redusers';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <Provider store={store}>\r\n        <DndProvider backend={HTML5Backend} >\r\n          <AppContainer />\r\n        </DndProvider>\r\n      </Provider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"feed-page_wrapper__3trkL\",\"id\":\"feed-page_id__jXsPX\",\"footer\":\"feed-page_footer__2zCQ_\",\"icon\":\"feed-page_icon__pnkok\",\"itemWrapper\":\"feed-page_itemWrapper__5WRt8\",\"iconsWrapper\":\"feed-page_iconsWrapper__3ORx_\",\"imageWrapper\":\"feed-page_imageWrapper__1GQKe\",\"ingredientImage\":\"feed-page_ingredientImage__3DC_O\",\"price\":\"feed-page_price__5kMy6\",\"scrollable\":\"feed-page_scrollable__1V1Ao\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"order-item_wrapper__ikpA2\",\"ingredients\":\"order-item_ingredients__4HcB-\",\"full_name\":\"order-item_full_name__2YB5m\",\"footer\":\"order-item_footer__2ynoy\",\"iconsWrapper\":\"order-item_iconsWrapper__wfLKO\",\"imageWrapper\":\"order-item_imageWrapper__1JubI\",\"ingredientImage\":\"order-item_ingredientImage__egArF\",\"flex\":\"order-item_flex__3lA9j\",\"icon_and_price\":\"order-item_icon_and_price__3NyHw\",\"icon_and_priceWrapper\":\"order-item_icon_and_priceWrapper__3GJlv\",\"count\":\"order-item_count__3Jj0I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"order-item_wrapper__1tHsW\",\"ingredients\":\"order-item_ingredients__385rX\",\"full_name\":\"order-item_full_name__2_p-X\",\"footer\":\"order-item_footer__2Akjr\",\"iconsWrapper\":\"order-item_iconsWrapper__Gv3ZB\",\"imageWrapper\":\"order-item_imageWrapper__1NQ7z\",\"ingredientImage\":\"order-item_ingredientImage__2VGqm\",\"flex\":\"order-item_flex__3UJyC\",\"icon_and_price\":\"order-item_icon_and_price__36YUq\",\"icon_and_priceWrapper\":\"order-item_icon_and_priceWrapper__2T8h-\",\"count\":\"order-item_count__HFZFG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"profile_wrapper__Pi74A\",\"form\":\"profile_form__3ZkA-\",\"nav\":\"profile_nav__1-vIT\",\"list\":\"profile_list__2U0E0\",\"listItem\":\"profile_listItem__2HnH6\",\"active\":\"profile_active__1dKlQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"profile-orders_wrapper__rvvVJ\",\"nav\":\"profile-orders_nav__1Fz8c\",\"list\":\"profile-orders_list__1y0kv\",\"listItem\":\"profile-orders_listItem__2Usdz\",\"active\":\"profile-orders_active__2gM9C\",\"scrollable\":\"profile-orders_scrollable__1Hq8A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"burger-ingredients_wrapper__2WL6X\",\"scrollable\":\"burger-ingredients_scrollable__3_ugk\",\"figure\":\"burger-ingredients_figure__XCJm7\",\"ingredientContainer\":\"burger-ingredients_ingredientContainer__3-Axa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"burger-constructor_wrapper__1PwzH\",\"bun\":\"burger-constructor_bun__3kzmO\",\"scrollable\":\"burger-constructor_scrollable__2wU_4\",\"footer\":\"burger-constructor_footer__2ymy-\",\"summary\":\"burger-constructor_summary__3EX2j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ingredient-details_wrapper__2mKTd\",\"detailsContainer\":\"ingredient-details_detailsContainer__aljA9\",\"details\":\"ingredient-details_details__2-o8m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"burger-ingredient_wrapper__38HmI\",\"price\":\"burger-ingredient_price__PwUrx\",\"counter\":\"burger-ingredient_counter__184S-\",\"link\":\"burger-ingredient_link__3ttGr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order_status\":\"order-status-board_order_status__303Nu\",\"scrollable\":\"order-status-board_scrollable__8SdZ0\",\"wrapper\":\"order-status-board_wrapper__1UQQ_\",\"done\":\"order-status-board_done__nJ1x4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__27JyB\",\"wrapper\":\"app-header_wrapper__1uWk0\",\"logoWrapper\":\"app-header_logoWrapper__nwPlh\",\"nav\":\"app-header_nav__2CsKz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"feed_wrapper__2UQNR\",\"feed\":\"feed_feed__3GHqx\",\"orders\":\"feed_orders__8CqEB\",\"scrollable\":\"feed_scrollable__TAsW0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navTitle\":\"header-nav-item_navTitle__2W5Gv\",\"inactive\":\"header-nav-item_inactive__3bn5U\",\"active\":\"header-nav-item_active__21K9O\",\"wrapper\":\"header-nav-item_wrapper__21TIB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"modal_wrapper__uEJcf\",\"button\":\"modal_button__l5jH0\",\"header\":\"modal_header__drwKg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"login_wrapper__3n7lB\",\"form\":\"login_form__17j0r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"sign-up_wrapper__1bAFC\",\"form\":\"sign-up_form__RlChb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"new-password_wrapper__1xQ_f\",\"form\":\"new-password_form__1OwKM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"reset-password_wrapper__1wwdr\",\"form\":\"reset-password_form__3QLeL\"};"],"sourceRoot":""}